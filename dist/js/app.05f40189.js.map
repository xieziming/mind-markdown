{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/MindMap.vue?f540","webpack:///./public/icons/24px/fit-to-page-outline.png","webpack:///./public/icons/24px/close.png","webpack:///./src/components/MindMap.vue?40af","webpack:///./public/icons/36px/image.png","webpack:///./public/icons/36px/markdown.png","webpack:///./src/components/MindMap.vue?44a4","webpack:///./public/icons/24px/redo.png","webpack:///./public/icons/24px/undo.png","webpack:///./src/ts/ImData.ts","webpack:///./src/App.vue?61a3","webpack:///./src/components/MindMap.vue?3f13","webpack:///./src/ts/History.ts","webpack:///./src/ts/toMarkdown.ts","webpack:///./src/components/MindMap.vue","webpack:///./src/components/MindMap.vue?2a9c","webpack:///./src/components/MindMap.vue?a065","webpack:///./src/App.vue","webpack:///./src/App.vue?4dbd","webpack:///./src/App.vue?4195","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts","webpack:///./public/icons/24px/download.png","webpack:///./public/icons/24px/crosshairs-gps.png","webpack:///./public/icons/36px/code-json.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_IMPORT_3___","___CSS_LOADER_URL_IMPORT_4___","___CSS_LOADER_URL_IMPORT_5___","___CSS_LOADER_URL_IMPORT_6___","___CSS_LOADER_URL_IMPORT_7___","___CSS_LOADER_URL_IMPORT_8___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","___CSS_LOADER_URL_REPLACEMENT_2___","___CSS_LOADER_URL_REPLACEMENT_3___","___CSS_LOADER_URL_REPLACEMENT_4___","___CSS_LOADER_URL_REPLACEMENT_5___","___CSS_LOADER_URL_REPLACEMENT_6___","___CSS_LOADER_URL_REPLACEMENT_7___","___CSS_LOADER_URL_REPLACEMENT_8___","content","locals","add","default","size","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","_v","options","gps","fitView","draggable","keyboard","showNodeAdd","contextMenu","zoomable","showUndo","xSpacing","ySpacing","strokeWidth","download","nodeId","on","updateNodeName","click","model","callback","$$v","mmdata","expression","directives","rawName","domProps","$event","target","composing","$set","_e","staticRenderFns","ref","style","class","svgClass","seleBox","width","height","top","contextMenuY","left","contextMenuX","showContextMenu","_l","item","index","disabled","clickMenu","_s","title","makeCenter","fitContent","showPopUps","canUndo","undo","canRedo","redo","save","opt","selectedOption","icon","optionTip","exportTo","colorScale","colorNumber","gKey","initColor","color","id","children","_children","initSize","_getSource","nd","Array","initId","console","error","initLeft","fn","JSON","parse","stringify","find","log","array","split","map","arr","isArray","idChild","idArr","delIndex","pop","parent","join","undefined","child","bId","pId","pChildren","delId","insertId","insert","delIndexS","insertIndexS","insertIndex","del","parentId","np","delParentId","delParent","maxSnapshots","snapshots","cursor","snapshot","deepTraverse","md","flag","dChild","toMarkdown","dragFlag","multiSeleFlag","minTextWidth","minTextHeight","gBtnSide","foreignBorderWidth","spaceKey","toRecord","toUpdate","showSelectedBox","mouse","x0","y0","x1","y1","contextMenuItems","optionList","tip","easePolyInOut","duration","ease","link","x","y","zoom","history","val","makeKeyboard","makeNodeAdd","makeDrag","makeContextMenu","resize","updateMmdata","updateMindmap","makeZoom","setContent","svgPos","$refs","svg","getBoundingClientRect","pageX","pageY","viewLeft","pageXOffset","viewTop","pageYOffset","right","bottom","record","$emit","getSource","mindmapSvg","mindmapG","dummy","preventDefault","mindmapSvgZoom","attr","transform","filter","ctrlKey","type","button","scaleExtent","svgKeyDown","svgKeyUp","fObject","selectAll","gBtn","mouseLeave","mouseEnter","gBtnClick","selection","fObjectRightClick","dragged","fObjMousedown","dragended","drag","container","parentNode","deltaY","deltaX","current","px","py","k","scaleTo","translateBy","filename","eleLink","document","createElement","display","blob","Blob","href","URL","createObjectURL","body","appendChild","removeChild","downloadFile","end","then","translateTo","rect","getBBox","div","mindmap","multipleX","offsetWidth","multipleY","offsetHeight","multiple","Math","min","transition","dParent","dPosition","move","reparent","rename","collapse","expand","event","keyName","metaKey","sele","seleNode","node","seleData","seleDepth","depth","im","pNode","editNew","editP","querySelector","getSelection","removeAllRanges","editText","innerText","select","each","removeAttribute","updateName","setAttribute","getElementById","removeMultiSelected","getAttribute","removeSelectedId","fObj","a","b","focusNode","fdiv","selectAllChildren","fObjPos","newD","editNode","err","stopPropagation","edit","clickedNode","f","firstElementChild","blur","selectNode","activeElement","show","pos","getViewPos","clearSelection","setTimeout","menu","focus","classList","contains","collapseFlag","expandFlag","contextMenuTarget","opacity","className","baseVal","includes","draggedNode","dura","path","renewOffset","targetY","dy","targetX","dx","tran","foreignX","foreignY","draggedNodeRenew","gNode","dragback","fObjectClick","newParentNode","newParentD","LR","draggedParentNode","draggedBrotherNodes","nodes","Infinity","b1","n1","b0","n0","sdata","insertBefore","nextSibling","remove","vp","g","tree","getDTop","draw","initNodeEvent","temp","sourceX","sourceY","textWidth","source","dKey","appendNode","updateNode","exitNode","dd","enter","gEllTransform","gClass","gTransform","divKeyDown","gBtnTransform","pathId","pathClass","pathColor","nest","fdivMouseDown","gBtnVisible","gEllVisible","append","foreign","foreignDiv","text","observer","ResizeObserver","getComputedStyle","borderTopWidth","b2","spacing","parseInt","contentRect","observe","ell","classed","enterData","lower","raise","update","interrupt","ellFlag","exit","root","layout","yGap","tl","hierarchy","tr","concat","dTop","textHeight","max","sel","$watch","newVal","getSize","immediate","deep","init","multiSelectStart","multiSelect","multiSelectEnd","addWatch","abs","required","component","showSource","onboarding","items","args","components","VApp","VBtn","VCard","VCol","VContainer","VDivider","VIcon","VMain","VRow","VSheet","use","icons","iconfont","config","productionTip","vuetify","render","h","$mount"],"mappings":"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","file":"js/app.05f40189.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindMap.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindMap.vue?vue&type=style&index=0&lang=scss&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAL5JREFUSMfdlUsOgzAMRJ+qbnq00gOxJN3RawJ3YAmLNlJqPrGdLKqOZAkpkxlnHBH4JzyACVgKawSaPYOxgnisYc8gLpbiS+di3ByAvorzgXjk9B6dM4NUPGfiMnBzcjMI5KGeiewuoLtVMi5VRIFt5kd8ORNVRLP22JY9stPWEFFnjSgiVOKcL5RwtL8KGZeMRYVcd23C6bQ6V0MDL+D2+X5au9ecwKWTzmASBG/B+/HaoKHOqzYA9wpJ/AhWvz2e2M3ZuhAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDItMjNUMDc6MTI6NDQrMDA6MDBN0Wd6AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAyLTIzVDA3OjEyOjQ0KzAwOjAwPIzfxgAAACh0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vdG1wL21hZ2ljay04YXdza0hmQsMy75cAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAgUlEQVRIx+2UMQ6AIBAEiX+4xCdY4P8r4h+k8DljIYUxIiBgNLIVxbJ7dwunVMM/AQzABPQRXAEMMKYYGDZYQALi1nFNioEAs7u4nHUSw7ltki1+JVRM3DNnezhLlrink6TKuyIVvHZEVUOu+kyrf7QnVoV2JsEQd8tO38qi4ftYAR2/iAqKWJdNAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA2LTI2VDA5OjQ5OjIyKzAwOjAwCA7QNgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wNi0yNlQwOTo0OToyMiswMDowMHlTaIoAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../../public/icons/24px/crosshairs-gps.png\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = require(\"../../public/icons/24px/fit-to-page-outline.png\");\nvar ___CSS_LOADER_URL_IMPORT_2___ = require(\"../../public/icons/24px/download.png\");\nvar ___CSS_LOADER_URL_IMPORT_3___ = require(\"../../public/icons/24px/undo.png\");\nvar ___CSS_LOADER_URL_IMPORT_4___ = require(\"../../public/icons/24px/redo.png\");\nvar ___CSS_LOADER_URL_IMPORT_5___ = require(\"../../public/icons/24px/close.png\");\nvar ___CSS_LOADER_URL_IMPORT_6___ = require(\"../../public/icons/36px/code-json.png\");\nvar ___CSS_LOADER_URL_IMPORT_7___ = require(\"../../public/icons/36px/image.png\");\nvar ___CSS_LOADER_URL_IMPORT_8___ = require(\"../../public/icons/36px/markdown.png\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);\nvar ___CSS_LOADER_URL_REPLACEMENT_6___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_6___);\nvar ___CSS_LOADER_URL_REPLACEMENT_7___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_7___);\nvar ___CSS_LOADER_URL_REPLACEMENT_8___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_8___);\n// Module\nexports.push([module.id, \"button:focus{outline:none}button.icon{position:relative;cursor:pointer;width:36px;height:36px;border-radius:50%;background-repeat:no-repeat;background-color:transparent;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:0;border:0;color:#3f51b5}button.icon:before{background-color:currentColor;border-radius:inherit;bottom:0;color:inherit;content:\\\"\\\";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;-webkit-transition:opacity .2s cubic-bezier(.4,0,.6,1);transition:opacity .2s cubic-bezier(.4,0,.6,1)}button.icon:hover:before{opacity:.1}button.icon.disabled{cursor:default}button.icon.disabled:hover:before{opacity:0}button.icon i{width:24px;height:24px}button.icon i.gps{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \")}button.icon i.fitView{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \")}button.icon i.download{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \")}button.icon i.undo{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \")}button.icon i.redo{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \")}button.icon i.close{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \")}div#mindmap{font-size:14px;position:relative;display:-webkit-box;display:-ms-flexbox;display:flex}div#mindmap div.rightClickTrigger{position:absolute;width:100%;height:100%}div#mindmap div#dummy div{white-space:pre-wrap;width:-webkit-max-content;width:-moz-max-content;width:max-content}div#mindmap svg{-webkit-box-flex:1;-ms-flex:auto;flex:auto;outline:none;background-color:#eeeef3}div#mindmap svg.grab{cursor:-webkit-grab;cursor:grab}div#mindmap svg foreignObject{cursor:default;border-radius:3px;border:2px solid transparent}div#mindmap svg foreignObject:focus{outline:none}div#mindmap svg foreignObject div{text-align:left;-webkit-box-sizing:content-box;box-sizing:content-box;border:1px solid transparent;width:-webkit-max-content;width:-moz-max-content;width:max-content;min-width:16px;min-height:21px;white-space:pre-wrap;color:#6d6d6d}div#mindmap svg foreignObject div:focus{border-color:#9a9a9a;outline:none}div#mindmap svg g.depth_0.node>foreignObject{background-color:#fff;border-radius:5px}div#mindmap svg g.depth_0.node>foreignObject div{color:#4b4b4b}div#mindmap svg g.gButton{opacity:0}div#mindmap svg g.gButton>path{fill:#8685ff}div#mindmap svg g.gButton>rect{fill:#fff;stroke:grey;stroke-width:.5}div#mindmap svg g.gEllipsis{opacity:0}div#mindmap svg g.gEllipsis.show{opacity:1}div#mindmap svg g.gEllipsis circle{fill:#000}div#mindmap svg g.gEllipsis:hover>rect.btn{stroke:grey;fill:#fff}div#mindmap svg g.gEllipsis:hover circle{fill:#5a5ad2}div#mindmap svg.stroke-width-1 path{stroke-width:1}div#mindmap svg.stroke-width-2 path{stroke-width:2}div#mindmap svg.stroke-width-3 path{stroke-width:3}div#mindmap svg.stroke-width-4 path{stroke-width:4}div#mindmap svg.stroke-width-5 path{stroke-width:5}div#mindmap svg.stroke-width-6 path{stroke-width:6}div#mindmap svg.stroke-width-7 path{stroke-width:7}div#mindmap svg.stroke-width-8 path{stroke-width:8}div#mindmap svg.stroke-width-9 path{stroke-width:9}div#mindmap svg.stroke-width-10 path{stroke-width:10}div#mindmap svg path{fill:none;stroke-linecap:round}div#mindmap svg #selectedNode:not(.depth_0)>foreignObject{background-color:rgba(0,0,255,.15)}div#mindmap svg #selectedNode.depth_0>foreignObject{outline:3px solid;outline-color:rgba(0,0,255,.15)}div#mindmap svg .multiSelectedNode:not(.depth_0)>foreignObject{background-color:rgba(0,0,255,.15)}div#mindmap svg .multiSelectedNode.depth_0>foreignObject{outline:3px solid;outline-color:rgba(0,0,255,.15)}div#mindmap svg #newParentNode>foreignObject{border-color:rgba(0,0,255,.15)}div#mindmap svg #editing>foreignObject>div{background-color:#fff}div#mindmap svg #selectedBox{color:#393936;opacity:.1;stroke:#000;stroke-width:2}div#mindmap #menu{position:absolute;border-radius:4px;-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background-color:#eae9ed;padding:4px 0;font-weight:500;color:#3a353d}div#mindmap #menu:focus{outline:none}div#mindmap #menu .menu-item{position:relative;padding:0 20px;cursor:pointer}div#mindmap #menu .menu-item:before{background-color:#000;bottom:0;content:\\\"\\\";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;-webkit-transition:.3s cubic-bezier(.25,.8,.5,1);transition:.3s cubic-bezier(.25,.8,.5,1)}div#mindmap #menu .menu-item:not(.disabled):hover:before{opacity:.09}div#mindmap #menu .menu-item.disabled{color:#aeb2b5;cursor:not-allowed}div#mindmap div.buttonList{position:absolute}div#mindmap div.buttonList.right-bottom{bottom:0;right:0}div#mindmap div.buttonList.top-right{top:0;right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}div#mindmap div.buttonList i{-webkit-filter:invert(25%) sepia(40%) saturate(5050%) hue-rotate(227deg) brightness(78%) contrast(74%);filter:invert(25%) sepia(40%) saturate(5050%) hue-rotate(227deg) brightness(78%) contrast(74%)}div#mindmap div.buttonList button.icon.disabled i{-webkit-filter:invert(85%) sepia(20%) saturate(0) hue-rotate(125deg) brightness(86%) contrast(93%);filter:invert(85%) sepia(20%) saturate(0) hue-rotate(125deg) brightness(86%) contrast(93%)}div#mindmap div.pop-ups{position:absolute;left:0;top:0;bottom:0;right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}div#mindmap div.pop-ups div.layer{position:absolute;left:0;top:0;bottom:0;right:0;opacity:.46;background-color:#212121}div#mindmap div.pop-ups .content{position:relative;-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}div#mindmap div.pop-ups .content div.exportTo{background-color:#ececec;border-radius:4px;width:-webkit-min-content;width:-moz-min-content;width:min-content}div#mindmap div.pop-ups .content div.exportTo .optionList{padding:5px;background-color:#fff;border-top-left-radius:inherit;border-top-right-radius:inherit;display:-webkit-box;display:-ms-flexbox;display:flex}div#mindmap div.pop-ups .content div.exportTo .optionList .option{cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:84px;height:84px;border-radius:4px;color:#747474}div#mindmap div.pop-ups .content div.exportTo .optionList .option.select{background-color:#e8e8e8}div#mindmap div.pop-ups .content div.exportTo .optionList .option.disabled{cursor:not-allowed}div#mindmap div.pop-ups .content div.exportTo .optionList .option.disabled .icon{background-color:rgba(0,0,0,.12)!important}div#mindmap div.pop-ups .content div.exportTo .optionList .option .icon{padding:2px;border-radius:6px;margin-bottom:10px}div#mindmap div.pop-ups .content div.exportTo .optionList .option .icon.purpleOpt{background-color:#c38efc}div#mindmap div.pop-ups .content div.exportTo .optionList .option .icon.greenOpt{background-color:#4bd964}div#mindmap div.pop-ups .content div.exportTo .optionList .option .icon.grassOpt{background-color:#97d439}div#mindmap div.pop-ups .content div.exportTo .optionList .option .icon i{display:block;width:36px;height:36px}div#mindmap div.pop-ups .content div.exportTo .optionList .option .icon i.code-json{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_6___ + \")}div#mindmap div.pop-ups .content div.exportTo .optionList .option .icon i.image{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_7___ + \")}div#mindmap div.pop-ups .content div.exportTo .optionList .option .icon i.markdown{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_8___ + \")}div#mindmap div.pop-ups .content div.exportTo .optionList .option .text{font-size:12px}div#mindmap div.pop-ups .content div.exportTo .optionTip{padding:10px 30px;border-top:1px solid #ddddde;border-bottom:1px solid #ddddde}div#mindmap div.pop-ups .content div.exportTo .action{padding:10px;display:-webkit-box;display:-ms-flexbox;display:flex}div#mindmap div.pop-ups .content div.exportTo .action .spacer{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}div#mindmap div.pop-ups .content div.exportTo .action button{height:24px;width:64px;margin:0 5px;background-color:#3c89fd;color:#fff;border-radius:4px}div#mindmap div.pop-ups .content div.exportTo .action button.cancel{background-color:#fff;color:#000}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABM0lEQVRYw+2WoU7EQBCG/zlRBAkJjhAcEg0kCCQKXoHgMaB4BzSe8AQIXoEcAiwEg+bOcAYBR8iHaI+U0u31uG73EvaTnensl840O1IkEvlnWPEBsCxpV9Ki57MHkq7M7NmZAWwCA9rjBVivEuq2KDPi2tky4F1S4rlVRYZmNucSomWZVMLs26MTQqCKKBRK6FDSw9RVGvqNz7Jaa8BrnRemFboA+o7YDZDk6h34FuoCCbAFvBVifWClpOa5L6Ee6T03yt3PxT6BHUfNeeC+aaEPYLsk/zSLn4yZzcp5+ovQsSO/AxwBpjFQMU+TCl3WObAOrnmaROgRWGhCJqtfOk/5nJm/XIcBfH6cWRS6CyB064wAG6RrZVv8WmHLlvwlSXuSVj1/mSelS34vQFcikcjs8AV/fwWj+hXXkQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wNi0yN1QwODowNDoyNSswMDowMPtwXp4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDYtMjdUMDg6MDQ6MjUrMDA6MDCKLeYiAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABf0lEQVRYw+2WMShFURjHf59IKQbZxSIMkg2LwWBRKOMrk5LlmS1CVimD0YLBRFllEj3rwxMpIat6IfE3uOV0u/ddL9djOL+63Xu//3c6//Ode8494PF4PJ54JPVLOlPlOJXU53qwkKECUATWgPdfHn8VMAnUmVlbXIUkKVvBGclKUtjlv6KkIUlLknLBNR2hDzr6ToTe6Ojr3zFUnaC3Aj3Bc7ekKzPbCzprATaApkBvjGhf47R/+3GFInI3JXVIqgd2HTOpkVShMA3ANnANdKZtptwKnQT3dmAoFPsTQzPAofN+C4xFJUpakHQJHDnhLkmXki4kDaRh6AUYAW6AZ2AUuI/JnQPyQLMTq+Vzkaya2X4ahjCzh8DIhJkdl8h7BcaBg5A0a2bLpfooe2M0s5yZbX0j7wkYBnJBaMXMFpPaJa2yK74+3GKELke/izD1KGkImALmyx28/5dFEZ6yApCR9ERljh8Z4Dw2Q1KfpHwFD2h5Sb1/OiUej8fz3/kAofCKQ2o85qYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDYtMjdUMDc6NTQ6MTUrMDA6MDAj2CAKAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTA2LTI3VDA3OjU0OjE1KzAwOjAwUoWYtgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindMap.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"40ae7104\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA7klEQVRIS+3TPU4DMRCG4SenAUHJBShoOAAcAaQ06VEkQoMoaSighQpukBuEny6ipucSkZEXWY43XmmVItJammY9/r6Zd2ZHtnxGW9Y3GFQJD4jaEF3hNlzWEB3hHPvYi7HAO5b4ipEaTXDfaLcZBOGLGLVBPmGKX4zxEB/8aZcMzvCaqf7gGx84iHGY5dzgOvlWNMjFn/GCeaGNE9whdFs6awYh8TPJDOzfanwwyypvnqwZPCbM+4r/429mkFYfhnbZo/JiB8cI/EOcFlYv92vDkua1blGH4run1H607kqbVqm3ygaBoYMq3d1HtAIbdiAZj1AwpAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA6ElEQVRIS+3UsU4CQRSF4Y834B3sTSBWVlT2FlJpbUNjYqWF0FDb0FBjg4mFT2BjqAwVJja8imbIQNYFMrMFBYRNbiaZPXP/OedutmbHT23H/R0ByYQPK6I+HpKeKwqKEf1igE6pRwPnCGszrjN8Y45XfG3jlgFB94w71HGPx4xLDxFqDbQJEPr18FRq/INQU5zGOilp2tHRansboHjuI85mssHJBa5xU3j3D5ICBCfdjIiuMC7ozpZxpQDLuKpCwjxuw+EcQBXIGy6jk4WLXEAupIUXjPCOz8P6VWR8LNUlx4iSme1/RH9DnykZwQm1/AAAAABJRU5ErkJggg==\"","import * as d3ScaleChromatic from 'd3-scale-chromatic'\nimport * as d3Scale from 'd3-scale'\n\nconst colorScale = d3Scale.scaleOrdinal(d3ScaleChromatic.schemePaired) // 颜色列表\nlet colorNumber = 0\nlet size: Function // 生成size的函数\nlet gKey = 0\n\nfunction initColor(d: Mdata, c?: string) { // 初始化颜色\n  let color\n  if (d.id !== '0') {\n    color = c || colorScale(`${colorNumber += 1}`)\n    d.color = color\n  }\n  const { children, _children } = d\n  if (children) {\n    for (let i = 0; i < children.length; i += 1) {\n      initColor(children[i], color)\n    }\n  }\n  if (_children) {\n    for (let i = 0; i < _children.length; i += 1) {\n      initColor(_children[i], color)\n    }\n  }\n}\n\nfunction initSize(d: Mdata) { // 初始化size\n  d.size = size(d.name, d.id === '0')\n  const { children, _children } = d\n  if (children) {\n    for (let i = 0; i < children.length; i += 1) {\n      initSize(children[i])\n    }\n  }\n  if (_children) {\n    for (let i = 0; i < _children.length; i += 1) {\n      initSize(_children[i])\n    }\n  }\n}\n\nfunction _getSource(d: Mdata) { // 返回源数据\n  const { children, _children } = d\n  const nd: Data = { name: d.name, content: d.content }\n  nd.left = d.left\n  if (children) {\n    const { length } = children\n    nd.children = new Array(length)\n    for (let i = 0; i < length; i++) {\n      nd.children[i] = _getSource(children[i])\n    }\n  }\n  if (_children) {\n    const { length } = _children\n    nd._children = new Array(length)\n    for (let i = 0; i < length; i++) {\n      nd._children[i] = _getSource(_children[i])\n    }\n  }\n  return nd\n}\n\nfunction initId(d: Mdata, id = '0') { // 初始化唯一标识：待优化\n  d.id = id\n  d.gKey = d.gKey || (gKey += 1)\n  const { children, _children } = d\n\n  if (children?.length && _children?.length) {\n    console.error('[Mindmap warn]: Error in data: data.children and data._children cannot contain data at the same time')\n  } else {\n    if (children) {\n      for (let i = 0; i < children.length;) {\n        if (children[i].id === 'del') {\n          children.splice(i, 1)\n        } else {\n          initId(children[i], `${id}-${i}`)\n          i += 1\n        }\n      }\n    }\n    if (_children) {\n      for (let i = 0; i < _children.length;) {\n        if (_children[i].id === 'del') {\n          _children.splice(i, 1)\n        } else {\n          initId(_children[i], `${id}-${i}`)\n          i += 1\n        }\n      }\n    }\n  }\n}\n\nfunction initLeft(d: Mdata, left = false) {\n  d.left = left\n  const { children, _children } = d\n  if (children) {\n    for (let i = 0; i < children.length; i += 1) {\n      initLeft(children[i], d.left)\n    }\n  }\n  if (_children) {\n    for (let i = 0; i < _children.length; i += 1) {\n      initLeft(_children[i], d.left)\n    }\n  }\n}\n\nclass ImData {\n  data: Mdata\n  constructor(d: Data, fn: Function) {\n    size = fn\n    this.data = JSON.parse(JSON.stringify(d))\n    initId(this.data)\n    initColor(this.data)\n    initSize(this.data)\n\n    this.data.left = false\n    const { children, _children } = this.data\n    if (children) {\n      for (let i = 0; i < children.length; i += 1) {\n        initLeft(children[i], children[i].left)\n      }\n    }\n    if (_children) {\n      for (let i = 0; i < _children.length; i += 1) {\n        initLeft(_children[i], _children[i].left)\n      }\n    }\n  }\n\n  getSource(id = '0') {\n    const d = this.find(id)\n    return d ? _getSource(d) : { name: '', content: '' }\n  }\n\n  setContent(id = '0', content='') {\n    const d = this.find(id);\n    if(d != null){\n      d.content = content;\n      console.log('update content to ' + content);\n    }\n  }\n\n  resize(id = '0') { // 更新size\n    const d = this.find(id)\n    if (d) {\n      initSize(d)\n    }\n  }\n\n  find(id: string) { // 根据id找到数据\n    const array = id.split('-').map(n => ~~n)\n    let data = this.data\n    for (let i = 1; i < array.length; i++) {\n      if (data && data.children) {\n        data = data.children[array[i]]\n      } else { // No data matching id\n        return null\n      }\n    }\n    return data\n  }\n\n  rename(id: string, name: string) { // 修改名称\n    if (id.length > 0) {\n      const d = this.find(id)\n      if (d) {\n        d.name = name\n        d.size = size(name, d.id === '0')\n      }\n      return d\n    }\n  }\n\n  collapse(id: string | string[]) { // 折叠\n    const arr = Array.isArray(id) ? id : [id]\n    for (let i = 0; i < arr.length; i++) {\n      const idChild = arr[i]\n      const d = this.find(idChild)\n      if (d && (!d._children || d._children.length === 0)) {\n        d._children = d.children\n        d.children = []\n      }\n    }\n  }\n\n  expand(id: string | string[]) { // 展开\n    const arr = Array.isArray(id) ? id : [id]\n    for (let i = 0; i < arr.length; i++) {\n      const idChild = arr[i]\n      const d = this.find(idChild)\n      if (d && (!d.children || d.children.length === 0)) {\n        d.children = d._children\n        d._children = []\n      }\n    }\n  }\n\n  del(id: string | string[]) { // 删除指定id的数据\n    const arr = Array.isArray(id) ? id : [id]\n    let p\n    for (let i = 0; i < arr.length; i++) {\n      const idChild = arr[i]\n      const idArr = idChild.split('-')\n      if (idArr.length >= 2) { // 有parent\n        const delIndex = idArr.pop()\n        const parent = this.find(idArr.join('-'))\n        if (delIndex && parent) {\n          if (parent.children) {\n            parent.children[~~delIndex].id = 'del' // 更新id时删除\n          }\n          if (p === undefined || (p.id.split('-').length > parent.id.split('-').length)) { // 找出最高的parent\n            p = parent\n          }\n        }\n      }\n    }\n    if (p) {\n      initId(p, p.id)\n    }\n  }\n\n  add(id: string, child: Data) { // 添加新的子节点\n    if (id.length > 0) {\n      const parent = this.find(id)\n      if (parent) {\n        if ((parent._children?.length || 0) > 0) { // 判断是否折叠，如果折叠，展开\n          parent.children = parent._children\n          parent._children = []\n        }\n        const c: Mdata = JSON.parse(JSON.stringify(child))\n        parent.children ? parent.children.push(c) : parent.children = [c]\n        initColor(c, parent.color || colorScale(`${colorNumber += 1}`))\n        initId(c, `${parent.id}-${parent.children.length - 1}`)\n        c.left = parent.left\n        initSize(c)\n        return c\n      }\n    }\n  }\n\n  insert(id: string, d: Data, i = 0) { // 插入新的节点在前（或在后）\n    if (id.length > 2) {\n      const idArr = id.split('-')\n      const bId = idArr.pop()\n      const pId = idArr.join('-')\n      const parent = this.find(pId)\n      if (bId && parent) {\n        const c: Mdata = JSON.parse(JSON.stringify(d))\n        const pChildren = parent.children\n        if (pChildren) {\n          pChildren.splice(~~bId + i, 0, c)\n          c.left = pChildren[~~bId].left\n        }\n        initColor(c, parent.color || colorScale(`${colorNumber += 1}`))\n        initId(parent, parent.id)\n        initSize(c)\n        return c\n      }\n    }\n  }\n\n  move(delId: string, insertId?: string, i = 0) { // 节点在同层移动\n    if (delId.length > 2) {\n      if (!insertId) { // 左右转换\n        const del = this.find(delId)\n        if (del) {\n          initLeft(del, !del.left)\n        }\n      } else if (insertId.length > 2) {\n        const insert = this.find(insertId)\n        const idArr = delId.split('-')\n        const delIndexS = idArr.pop()\n        const pId = idArr.join('-')\n        const parent = this.find(pId)\n        const insertIndexS = insertId.split('-').pop()\n\n        if (delIndexS && insertIndexS && insert && parent && parent.children) {\n          const delIndex = ~~delIndexS\n          let insertIndex = ~~insertIndexS\n          // 删除时可能会改变插入的序号\n          if (delIndex < insertIndex) {\n            insertIndex -= 1\n          }\n          const del = parent.children.splice(delIndex, 1)[0]\n          if (del.left !== insert.left) { // 左右转换\n            initLeft(del, insert.left)\n          }\n          parent.children.splice(insertIndex + i, 0, del)\n          initId(parent, parent.id)\n        }\n      }\n    }\n  }\n\n  reparent(parentId: string, delId: string) { // 节点移动到其他层\n    if (delId.length > 2 && parentId.length > 0 && parentId !== delId) {\n      const np = this.find(parentId)\n      const idArr = delId.split('-')\n      const delIndex = idArr.pop()\n      const delParentId = idArr.join('-')\n      const delParent = this.find(delParentId)\n      if (delIndex && delParent && np) {\n        const del = delParent.children?.splice(~~delIndex, 1)[0] // 删除\n        if (del) {\n          (np.children?.length || 0) > 0 ? np.children?.push(del)\n            : ((np._children?.length || 0) > 0 ? np._children?.push(del) : np.children = [del])\n\n          initColor(del, parentId === '0' ? colorScale(`${colorNumber += 1}`) : np.color)\n          initLeft(del, parentId === '0' ? del.left : np.left)\n          initId(np, np.id)\n          initId(delParent, delParent.id)\n        }\n      }\n    }\n  }\n}\n\nexport default ImData\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-main',[_c('v-container',{staticClass:\"fill-height\",attrs:{\"fluid\":\"\"}},[_c('v-card',{staticClass:\"fill-height\",attrs:{\"outlined\":\"\",\"width\":\"100%\"}},[_c('v-sheet',{staticClass:\"fill-height\"},[_c('v-row',{staticClass:\"fill-height\",attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"d-flex flex-column\",attrs:{\"md\":\"9\",\"cols\":\"12\"}},[_c('div',{staticClass:\"d-flex grey lighten-3\"},[_c('div',{staticClass:\"d-flex px-3 title font-weight-regular align-center\",staticStyle:{\"height\":\"48px\",\"width\":\"100%\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"href\":\"https://github.com/hellowuxin/mindmap\"}},[_c('v-icon',[_vm._v(\"mdi-github\")])],1)],1),_c('v-divider',{attrs:{\"vertical\":\"\"}})],1),_c('v-divider'),_c('div',{staticClass:\"d-flex flex-grow-1\"},[_c('mindmap',{attrs:{\"gps\":_vm.options.gps.value,\"fitView\":_vm.options.fitView.value,\"draggable\":_vm.options.draggable.value,\"keyboard\":_vm.options.keyboard.value,\"showNodeAdd\":_vm.options.showNodeAdd.value,\"contextMenu\":_vm.options.contextMenu.value,\"zoomable\":_vm.options.zoomable.value,\"showUndo\":_vm.options.showUndo.value,\"xSpacing\":_vm.xSpacing,\"ySpacing\":_vm.ySpacing,\"strokeWidth\":_vm.strokeWidth,\"download\":_vm.options.download.value,\"content\":_vm.options.content.value,\"nodeId\":_vm.options.nodeId.value},on:{\"updateNodeName\":_vm.updateNodeName,\"click\":_vm.click},model:{value:(_vm.mmdata),callback:function ($$v) {_vm.mmdata=$$v},expression:\"mmdata\"}}),_c('v-divider',{attrs:{\"vertical\":\"\"}})],1)],1),_c('v-col',{attrs:{\"md\":\"3\",\"cols\":\"12\"}},[_c('div',{staticClass:\"grey lighten-3\"},[_c('div',{staticClass:\"d-flex px-3 title font-weight-regular align-center\",staticStyle:{\"height\":\"48px\"}},[_vm._v(\"Content\")])]),_c('v-divider'),(_vm.options.nodeId.value)?_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.content.value),expression:\"options.content.value\"}],staticClass:\"py-3 px-3\",staticStyle:{\"width\":\"98%\",\"margin\":\"10px 1%\",\"border\":\"1px solid #CCCCCC\"},domProps:{\"value\":(_vm.options.content.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options.content, \"value\", $event.target.value)}}}):_vm._e()],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"mindmap\",style:(_vm.mmStyle),attrs:{\"id\":\"mindmap\"}},[_c('svg',{ref:\"svg\",class:_vm.svgClass,attrs:{\"tabindex\":\"0\"}},[_c('g',{ref:\"content\",attrs:{\"id\":\"content\"}}),_c('rect',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSelectedBox),expression:\"showSelectedBox\"}],ref:\"selectedBox\",attrs:{\"id\":\"selectedBox\",\"width\":_vm.seleBox.width,\"height\":_vm.seleBox.height,\"transform\":(\"translate(\" + (_vm.seleBox.x) + \",\" + (_vm.seleBox.y) + \")\")}})]),_c('div',{ref:\"dummy\",attrs:{\"id\":\"dummy\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showContextMenu),expression:\"showContextMenu\"}],ref:\"menu\",style:({ top: _vm.contextMenuY+'px', left: _vm.contextMenuX+'px' }),attrs:{\"id\":\"menu\",\"tabindex\":\"0\"},on:{\"blur\":function($event){_vm.showContextMenu = false}}},_vm._l((_vm.contextMenuItems),function(item,index){return _c('div',{key:index,class:(\"menu-item \" + (item.disabled ? 'disabled' : '')),on:{\"click\":function($event){item.disabled ? null : _vm.clickMenu(item.name)}}},[_c('div',[_vm._v(_vm._s(item.title))])])}),0),_c('div',{staticClass:\"buttonList right-bottom\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.gps),expression:\"gps\"}],ref:\"gps\",staticClass:\"icon\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.makeCenter()}}},[_c('i',{staticClass:\"gps\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fitView),expression:\"fitView\"}],ref:\"fitView\",staticClass:\"icon\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.fitContent()}}},[_c('i',{staticClass:\"fitView\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.download),expression:\"download\"}],ref:\"download\",staticClass:\"icon\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showPopUps=true}}},[_c('i',{staticClass:\"download\"})])]),_c('div',{staticClass:\"buttonList top-right\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUndo),expression:\"showUndo\"}],ref:\"undo\",staticClass:\"icon\",class:{disabled: !_vm.canUndo},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.undo()}}},[_c('i',{staticClass:\"undo\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUndo),expression:\"showUndo\"}],ref:\"redo\",staticClass:\"icon\",class:{disabled: !_vm.canRedo},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.redo()}}},[_c('i',{staticClass:\"redo\"})]),_c('button',{ref:\"save\",staticStyle:{\"border\":\"1px solid #CCC\",\"padding\":\"2px\",\"border-radius\":\"2px\",\"display\":\"inline-block\"},attrs:{\"classs\":\"icon\",\"type\":\"button\"},on:{\"click\":function($event){return _vm.save()}}},[_vm._v(\"PRINT\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPopUps),expression:\"showPopUps\"}],staticClass:\"pop-ups\"},[_c('div',{staticClass:\"layer\"}),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"exportTo\"},[_c('div',{staticClass:\"optionList\"},_vm._l((_vm.optionList),function(opt,index){return _c('div',{key:index,class:(\"option \" + (index===_vm.selectedOption ? 'select' : '') + \" \" + (opt.disabled ? 'disabled' : '')),on:{\"click\":function($event){opt.disabled ? '' : _vm.selectedOption=index}}},[_c('div',{class:(\"icon \" + (opt.color))},[_c('i',{class:opt.icon})]),_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(opt.title))])])}),0),_c('div',{staticClass:\"optionTip\"},[_vm._v(_vm._s(_vm.optionTip))]),_c('div',{staticClass:\"action\"},[_c('div',{staticClass:\"spacer\"}),_c('button',{staticClass:\"cancel\",on:{\"click\":function($event){_vm.showPopUps=false}}},[_vm._v(\"取消\")]),_c('button',{on:{\"click\":function($event){_vm.exportTo(); _vm.showPopUps=false}}},[_vm._v(\"导出\")])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","class History {\n  maxSnapshots: number\n  snapshots: Array<Mdata>\n  cursor: number\n  constructor(maxSnapshots = 20) {\n    this.maxSnapshots = maxSnapshots\n    this.snapshots = []\n    this.cursor = -1\n  }\n\n  get canUndo() { return this.cursor > 0 }\n  get canClear() { return this.snapshots.length >= 0 }\n  get canRedo() { return this.snapshots.length > this.cursor + 1 }\n\n  record(snapshot: Mdata) { // 记录数据快照\n    while (this.cursor < this.snapshots.length - 1) { // 去除旧分支\n      this.snapshots.pop()\n    }\n    this.snapshots.push(snapshot)\n    // 确保历史记录条数限制\n    if (this.snapshots.length > this.maxSnapshots) { this.snapshots.shift() }\n    this.cursor = this.snapshots.length - 1\n  }\n\n  undo() {\n    if (this.canUndo) {\n      this.cursor -= 1\n      return this.snapshots[this.cursor]\n    }\n    return null\n  }\n\n  redo() {\n    if (this.canRedo) {\n      this.cursor += 1\n      return this.snapshots[this.cursor]\n    }\n    return null\n  }\n\n  move(cursor: number) {\n    if (this.snapshots.length > cursor) {\n      this.cursor = cursor\n      return this.snapshots[this.cursor]\n    }\n  }\n\n  clear() {\n    this.cursor = -1\n    this.snapshots = []\n  }\n}\n\nexport default History\n","function deepTraverse(d: Array<Data>, m: string, md: string, flag: string) {\n  for (let index = 0; index < d?.length; index += 1) {\n    const dChild = d[index]\n    if (m.length > 3 && m[0] === '#') { // #### 替换成 -\n      md += `- ${dChild.name}\\n`\n      if (dChild.children) {\n        md = deepTraverse(dChild.children, '  -', md, '  ')\n      }\n    } else {\n      md += `${m} ${dChild.name}\\n`\n      if (dChild.children) {\n        md = deepTraverse(dChild.children, `${flag}${m}`, md, flag)\n      }\n    }\n  }\n  return md\n}\n\nfunction toMarkdown(data: Data) {\n  const d = Array.isArray(data) ? data : [data]\n  return deepTraverse(d, '#', '', '#')\n}\n\nexport default toMarkdown\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Watch, Prop, Model } from 'vue-property-decorator'\nimport * as d3 from '../ts/d3'\nimport { flextree } from 'd3-flextree'\nimport ImData from '../ts/ImData'\nimport History from '../ts/History'\nimport toMarkdown from '../ts/toMarkdown'\n\nlet mmdata: ImData // 思维导图数据\n@Component\nexport default class MindMap extends Vue {\n  @Prop() width: number | undefined\n  @Prop() height: number | undefined\n  @Prop({ default: 50 }) xSpacing!: number\n  @Prop({ default: 20 }) ySpacing!: number\n  @Prop({ default: true }) draggable!: boolean\n  @Prop({ default: true }) gps!: boolean\n  @Prop({ default: true }) fitView!: boolean\n  @Prop({ default: true }) download!: boolean\n  @Prop({ default: true }) keyboard!: boolean\n  @Prop({ default: true }) showNodeAdd!: boolean\n  @Prop({ default: true }) contextMenu!: boolean\n  @Prop({ default: true }) zoomable!: boolean\n  @Prop({ default: true }) showUndo!: boolean\n  @Prop({ default: 4 }) strokeWidth!: number\n  @Prop({ default: ''}) content!: string\n  @Prop({ default: ''}) nodeId!: string\n  @Model('change', { required: true }) value!: Array<Data>\n\n  @Watch('keyboard')\n  onKeyboardChanged(val: boolean) { this.makeKeyboard(val) }\n  @Watch('showNodeAdd')\n  onShowNodeAddChanged(val: boolean) { this.makeNodeAdd(val) }\n  @Watch('draggable')\n  onDraggableChanged(val: boolean) { this.makeDrag(val) }\n  @Watch('contextMenu')\n  onContextMenuChanged(val: boolean) { this.makeContextMenu(val) }\n  @Watch('xSpacing')\n  onXSpacingChanged() {\n    mmdata.resize()\n    this.updateMmdata()\n    this.updateMindmap()\n  }\n  @Watch('ySpacing')\n  onYSpacingChanged() { this.updateMindmap() }\n  @Watch('zoomable')\n  onZoomableChanged(val: boolean) { this.makeZoom(val) }\n  @Watch('content')\n  onContentChanged(){\n    console.log('call on content change.');\n    if(this.nodeId != null && this.nodeId !== \"\" && this.content != null){\n      mmdata.setContent(this.nodeId, this.content);\n    }\n  }\n\n  $refs!: {\n    mindmap: HTMLDivElement\n    svg: Element\n    content: Element\n    dummy: HTMLDivElement\n    menu: HTMLDivElement\n    selectedBox: SVGRectElement\n  }\n\n  dragFlag = false\n  multiSeleFlag = false\n  minTextWidth = 16\n  minTextHeight = 21\n  gBtnSide = 24 // gBtn边长\n  foreignBorderWidth = 3\n  spaceKey = false\n  toRecord = true // 判断是否需要记录mmdata的数据快照\n  toUpdate = true // 判断是否需要更新mmdata\n  dTop!: FlexNode // mmdata中纵坐标最高的数据\n  root!: FlexNode // 包含位置信息的mmdata\n  showContextMenu = false\n  showPopUps = false\n  showSelectedBox = false // 选中框\n  contextMenuX = 0\n  contextMenuY = 0\n  mouse = { x0: 0, y0: 0, x1: 0, y1: 0 }\n  contextMenuTarget!: Mdata | Mdata[]\n  contextMenuItems = [\n    { title: '删除节点', name: 'delete', disabled: false },\n    { title: '折叠节点', name: 'collapse', disabled: false },\n    { title: '展开节点', name: 'expand', disabled: false },\n  ]\n  optionList = [\n    { title: 'JSON', icon: 'code-json', tip: '创建一个JSON格式的文本文件', color: 'purpleOpt' },\n    { title: '图像', icon: 'image', tip: '创建一个PNG格式的图像文件', color: 'greenOpt', disabled: true },\n    { title: 'Markdown', icon: 'markdown', tip: '创建一个Markdown格式的文本文件', color: 'grassOpt' },\n  ]\n  selectedOption = 0\n  mindmapSvg!: d3.Selection<Element, FlexNode, null, undefined>\n  mindmapG!: d3.Selection<Element, FlexNode, null, undefined>\n  dummy!: d3.Selection<HTMLDivElement, FlexNode, null, undefined>\n  mindmapSvgZoom!: d3.ZoomBehavior<Element, FlexNode>\n  easePolyInOut = d3.transition().duration(1000).ease(d3.easePolyInOut)\n  link = d3.linkHorizontal().x((d) => d[0]).y((d) => d[1])\n  zoom = d3.zoom() as d3.ZoomBehavior<Element, FlexNode>\n  history = new History()\n\n  get mmStyle() {\n    return {\n      width: this.width ? `${this.width}px` : '100%',\n      height: this.height ? `${this.height}px` : '',\n    }\n  }\n  get svgClass() { return `stroke-width-${this.strokeWidth} ${this.spaceKey && this.zoomable ? 'grab' : ''}` }\n  get optionTip() { return this.optionList[this.selectedOption].tip }\n  get canUndo() { return this.history.canUndo }\n  get canRedo() { return this.history.canRedo }\n  get seleBox() {\n    const { x0, x1, y0, y1 } = this.mouse\n    const x = Math.min(x0, x1)\n    const y = Math.min(y0, y1)\n    const width = Math.abs(x0 - x1)\n    const height = Math.abs(y0 - y1)\n    return { x, y, width, height, left: x, top: y, right: x + width, bottom: y + height }\n  }\n\n  getViewPos(p?: DOMRect) {\n    const svgPos = this.$refs.svg.getBoundingClientRect()\n    const { pageX, pageY } = d3.event\n    const viewLeft = svgPos.left + window.pageXOffset\n    const viewTop = svgPos.top + window.pageYOffset\n    const { left, top, right, bottom } = p || { left: pageX, top: pageY, right: pageX, bottom: pageY }\n    return {\n      left: left - viewLeft,\n      top: top - viewTop,\n      right: right - viewLeft,\n      bottom: bottom - viewTop,\n    }\n  }\n  updateMmdata(val?: Mdata | null) { // 不可变数据\n    if (val) { mmdata.data = JSON.parse(JSON.stringify(val)) }\n    if (this.toRecord) {\n      this.history.record(JSON.parse(JSON.stringify(mmdata.data)))\n    }\n    this.updateMindmap()\n    this.toUpdate = false\n    this.$emit('change', [mmdata.getSource()])\n  }\n  init() {\n    // 绑定元素\n    this.mindmapSvg = d3.select(this.$refs.svg)\n    this.mindmapG = d3.select(this.$refs.content)\n    this.mindmapG.style('opacity', 0)\n    this.dummy = d3.select(this.$refs.dummy)\n    // 绑定svg事件\n    this.makeKeyboard(this.keyboard)\n    this.mindmapSvg.on('contextmenu', () => { d3.event.preventDefault() })\n    this.mindmapSvgZoom = this.zoom.on('zoom', () => { this.mindmapG.attr('transform', d3.event.transform) })\n      .filter(() => (\n        (d3.event.ctrlKey && d3.event.type !== 'mousedown')\n        || (this.spaceKey && d3.event.type !== 'wheel')\n      ) && !d3.event.button) // 开启双指捏合 空格键+左键可拖移\n      .scaleExtent([0.1, 8]) // 缩放倍数: 0.1～8\n    this.makeZoom(this.zoomable)\n  }\n  initNodeEvent() { // 绑定节点事件\n    this.makeDrag(this.draggable)\n    this.makeNodeAdd(this.showNodeAdd)\n    this.makeContextMenu(this.contextMenu)\n  }\n  // 事件\n  makeKeyboard(val: boolean) {\n    val ? this.mindmapSvg.on('keydown', this.svgKeyDown).on('keyup', this.svgKeyUp)\n      : this.mindmapSvg.on('keydown', null).on('keyup', null)\n  }\n  makeNodeAdd(val: boolean) {\n    const fObject = this.mindmapG.selectAll('foreignObject') as d3.Selection<Element, FlexNode, Element, FlexNode>\n    const gBtn = this.mindmapG.selectAll('.gButton') as d3.Selection<Element, FlexNode, Element, FlexNode>\n    if (val) {\n      const { mouseLeave, mouseEnter, gBtnClick } = this\n      fObject.on('mouseenter', mouseEnter).on('mouseleave', mouseLeave)\n      gBtn.on('mouseenter', mouseEnter).on('mouseleave', mouseLeave).on('mousedown', gBtnClick)\n    } else {\n      fObject.on('mouseenter', null).on('mouseleave', null)\n      gBtn.on('mouseenter', null).on('mouseleave', null).on('mousedown', null)\n    }\n  }\n  makeContextMenu(val: boolean) {\n    const selection = this.mindmapG.selectAll('foreignObject') as d3.Selection<Element, FlexNode, Element, FlexNode>\n    if (val) {\n      selection.on('contextmenu', this.fObjectRightClick)\n    } else {\n      selection.on('contextmenu', null)\n    }\n  }\n  makeDrag(val: boolean) {\n    const { mindmapG, dragged, fObjMousedown, dragended } = this\n    const selection = mindmapG.selectAll('foreignObject') as d3.Selection<Element, FlexNode, Element, FlexNode>\n    const drag = d3.drag().container((d, i, n) => n[i].parentNode?.parentNode as d3.DragContainerElement) as d3.DragBehavior<Element, FlexNode, FlexNode>\n    if (val) {\n      selection.call(drag.on('start', fObjMousedown).on('drag', dragged).on('end', dragended))\n    } else {\n      selection.call(drag.on('start', null).on('drag', null).on('end', null))\n    }\n  }\n  makeZoom(val: boolean) {\n    const { mindmapSvg, mindmapSvgZoom, zoom } = this\n    if (val) {\n      mindmapSvg.call(mindmapSvgZoom).on('dblclick.zoom', null)\n        .on('wheel.zoom', () => {\n          const { ctrlKey, deltaY, deltaX, x, y } = d3.event\n          d3.event.preventDefault()\n          const current = d3.zoomTransform(this.$refs.svg)\n          if (ctrlKey) { // 缩放\n            const svgPos = this.$refs.svg.getBoundingClientRect()\n            const px = svgPos.left + window.pageXOffset\n            const py = svgPos.top + window.pageYOffset\n            const k = current.k - deltaY * 0.02\n            zoom.scaleTo(mindmapSvg, k, [x - px, y - py])\n          } else { // 移动\n            zoom.translateBy(mindmapSvg, -deltaX, -deltaY)\n          }\n        })\n    } else {\n      mindmapSvg.on('.zoom', null)\n    }\n  }\n  // button事件\n  undo() {\n    if (this.canUndo) {\n      this.toRecord = false\n      this.updateMmdata(this.history.undo())\n    }\n  }\n  redo() {\n    if (this.canRedo) {\n      this.toRecord = false\n      this.updateMmdata(this.history.redo())\n    }\n  }\n  save() {\n    console.log('save');\n    console.log(JSON.stringify(mmdata));\n  }\n  downloadFile(content: string, filename: string) {\n    const eleLink = document.createElement('a')\n    eleLink.download = filename\n    eleLink.style.display = 'none'\n    // 字符内容转变成blob地址\n    const blob = new Blob([content])\n    eleLink.href = URL.createObjectURL(blob)\n    // 触发点击\n    document.body.appendChild(eleLink)\n    eleLink.click()\n    // 然后移除\n    document.body.removeChild(eleLink)\n  }\n  exportTo() { // 导出至\n    const data = mmdata.getSource()\n    let content = ''\n    let filename = data.name\n    switch (this.selectedOption) {\n      case 0: // JSON\n        content = JSON.stringify(data, null, 2)\n        filename += '.json'\n        break\n      case 2: // Markdown\n        content = toMarkdown(data)\n        filename += '.md'\n        break\n      default:\n        break\n    }\n    this.downloadFile(content, filename)\n  }\n  async makeCenter() { // 居中\n    await d3.transition().end().then(() => {\n      this.mindmapSvg.call(this.zoom.translateTo, 0, 0)\n    })\n  }\n  async fitContent() { // 适应窗口大小\n    await d3.transition().end().then(() => {\n      const rect = (this.$refs.content as SVGGElement).getBBox()\n      const div = this.$refs.mindmap\n      const multipleX = div.offsetWidth / rect.width\n      const multipleY = div.offsetHeight / rect.height\n      const multiple = Math.min(multipleX, multipleY)\n\n      this.mindmapSvg.transition(this.easePolyInOut as any).call(this.zoom.scaleTo, multiple)\n    })\n  }\n  // 数据操作\n  add(dParent: Mdata, d: Data) {\n    this.toRecord = true\n    const nd = mmdata.add(dParent.id, d)\n    this.updateMmdata()\n    return nd\n  }\n  insert(dPosition: Mdata, d: Data, i = 0) {\n    this.toRecord = true\n    const nd = mmdata.insert(dPosition.id, d, i)\n    this.updateMmdata()\n    return nd\n  }\n  move(del: Mdata, insert?: Mdata, i = 0) {\n    this.toRecord = true\n    mmdata.move(del.id, insert?.id, i)\n    this.updateMmdata()\n  }\n  reparent(p: Mdata, d: Mdata) {\n    this.toRecord = true\n    mmdata.reparent(p.id, d.id)\n    this.updateMmdata()\n  }\n  del(s: Mdata | Mdata[]) {\n    this.toRecord = true\n    if (Array.isArray(s)) {\n      const idArr = []\n      for (let i = 0; i < s.length; i++) {\n        idArr.push(s[i].id)\n      }\n      mmdata.del(idArr)\n    } else {\n      mmdata.del(s.id)\n    }\n    this.updateMmdata()\n  }\n  updateName(d: Mdata, name: string) {\n    if (d.name !== name) { // 有改变\n      this.toRecord = true\n      const nd = mmdata.rename(d.id, name)\n      this.updateMmdata()\n      return nd\n    }\n  }\n  collapse(s: Mdata | Mdata[]) {\n    this.toRecord = true\n    if (Array.isArray(s)) {\n      const idArr = []\n      for (let i = 0; i < s.length; i++) {\n        idArr.push(s[i].id)\n      }\n      mmdata.collapse(idArr)\n    } else {\n      mmdata.collapse(s.id)\n    }\n    this.updateMmdata()\n  }\n  expand(s: Mdata | Mdata[]) {\n    this.toRecord = true\n    if (Array.isArray(s)) {\n      const idArr = []\n      for (let i = 0; i < s.length; i++) {\n        idArr.push(s[i].id)\n      }\n      mmdata.expand(idArr)\n    } else {\n      mmdata.expand(s.id)\n    }\n    this.updateMmdata()\n  }\n  // 键盘\n  svgKeyDown() {\n    const event = d3.event\n    const keyName = event.key as string\n    // 针对导图的操作\n    if (keyName === ' ' && !this.spaceKey) { this.spaceKey = true }\n    if (event.metaKey) {\n      if (keyName === 'z') { // 撤销\n        d3.event.preventDefault()\n        this.undo()\n      } else if (keyName === 'y') { // 重做\n        d3.event.preventDefault()\n        this.redo()\n      }\n    } else { // 针对节点的操作\n      const sele = d3.select('#selectedNode') as d3.Selection<Element, FlexNode, Element, FlexNode>\n      const seleNode = sele.node()\n      if (seleNode) {\n        const seleData = sele.data()[0]\n        const seleDepth = seleData.depth\n        const im = seleData.data\n        const pNode = seleNode.parentNode as Element\n\n        switch (keyName) {\n          case 'Tab': {\n            d3.event.preventDefault()\n            const nd = this.add(im, { name: '', content: '' })\n            if (nd) {\n              this.editNew(nd, seleDepth + 1, pNode)\n            }\n            break\n          }\n          case 'Enter': {\n            d3.event.preventDefault()\n            if (pNode === this.$refs.content) { // 根节点enter时，等效tab\n              const nd = this.add(im, { name: '', content: '' })\n              if (nd) {\n                this.editNew(nd, seleDepth + 1, pNode)\n              }\n            } else {\n              const nd = this.insert(im, { name: '', content: '' }, 1)\n              if (nd) {\n                this.editNew(nd, seleDepth, pNode)\n              }\n            }\n            break\n          }\n          case 'Backspace': {\n            d3.event.preventDefault()\n            this.del(im)\n            break\n          }\n          default:\n            break\n        }\n      }\n    }\n  }\n  svgKeyUp() { // 针对导图的操作\n    if (d3.event.key === ' ') { this.spaceKey = false }\n  }\n  divKeyDown() {\n    if (d3.event.key === 'Enter') {\n      // d3.event.preventDefault()\n      // document.execCommand('insertHTML', false, '<br>')\n    }\n  }\n  // 节点操作\n  updateNodeName() { // 文本编辑完成时\n    const editP = document.querySelector('#editing > foreignObject > div') as HTMLDivElement\n    window.getSelection()?.removeAllRanges() // 清除选中\n    const editText = editP.innerText || ''\n    this.mindmapG.select('g#editing').each((d, i, n) => {\n      (n[i] as Element).removeAttribute('id')\n      const nd = this.updateName(d.data, editText)\n      if (nd) {\n        this.$emit('updateNodeName', mmdata.getSource(nd.id), nd.id)\n      }\n    })\n    editP.setAttribute('contenteditable', 'false')\n  }\n  removeSelectedId() { // 清除选中节点\n    const sele = document.getElementById('selectedNode')\n    if (sele) {\n      sele.setAttribute('__click__', '0')\n      sele.removeAttribute('id')\n    }\n  }\n  selectNode(n: Element) { // 选中节点\n    this.removeMultiSelected()\n    if (n.getAttribute('id') !== 'selectedNode') {\n      this.removeSelectedId()\n      n.setAttribute('id', 'selectedNode')\n      //TODO export content to options\n    }\n  }\n  editNode(n: Element) { // 编辑节点\n    this.removeSelectedId()\n    n.setAttribute('id', 'editing')\n    const fObj = d3.select(n).selectAll('foreignObject').filter((a, b, c) => (c[b] as Element).parentNode === n) as d3.Selection<Element, FlexNode, Element, FlexNode>\n    this.focusNode(fObj)\n    fObj.select('div').attr('contenteditable', true)\n    const fdiv = document.querySelector('#editing > foreignObject > div')\n    if (fdiv) {\n      window.getSelection()?.selectAllChildren(fdiv)\n    }\n  }\n  focusNode(fObj: d3.Selection<Element, FlexNode, Element | null, FlexNode | undefined>) { // 使节点处于可视区域\n    const { k } = d3.zoomTransform(this.$refs.svg) // 放大缩小倍数\n    const fObjPos = (fObj.node() as Element).getBoundingClientRect()\n    if (fObjPos) {\n      const svgPos = this.$refs.svg.getBoundingClientRect()\n\n      const r = fObjPos.right - svgPos.right\n      const b = fObjPos.bottom - svgPos.bottom\n      const l = fObjPos.left - svgPos.left\n      const t = fObjPos.top - svgPos.top\n      const x = (r > 0 && r) || (l < 0 && l)\n      const y = (b > 0 && b) || (t < 0 && t)\n\n      // 保持节点可视\n      if (x) { this.mindmapSvg.call(this.zoom.translateBy, -x / k, 0) }\n      if (y) { this.mindmapSvg.call(this.zoom.translateBy, 0, -y / k) }\n    }\n  }\n  editNew(newD: Mdata, depth: number, pNode: Element) { // 聚焦新节点\n    d3.transition().end().then(() => {\n      const node = d3.select(pNode).selectAll(`g.node.depth_${depth}`)\n        .filter((b) => (b as FlexNode).data.id === newD.id)\n        .node()\n\n      this.editNode(node as Element)\n    }, (err) => {\n      console.log(err)\n    })\n  }\n  fdivMouseDown() {\n    const flag = d3.event.target.getAttribute('contenteditable')\n    if (flag === 'true') {\n      d3.event.stopPropagation() // 防止触发drag、click\n    }\n  }\n  fObjMousedown(d: FlexNode, i: number, n: ArrayLike<Element>) {\n    const edit = document.getElementById('editing')\n    let flag = 0\n    const clickedNode = n[i].parentNode as Element\n    if (edit && edit !== clickedNode) {\n      const f = (\n        d3.selectAll('foreignObject').filter((d, i, n) => (n[i] as Element).parentNode === edit).node() as Element\n      ).firstElementChild as HTMLElement\n\n      f.blur()\n      flag = 1\n    }\n    if (!edit || flag) { // 未在编辑\n      this.selectNode(clickedNode)\n    }\n  }\n  fObjectClick(d: FlexNode, i: number, n: ArrayLike<Element>) { // 两次单击进入编辑状态\n    const sele = document.getElementById('selectedNode')\n    const { dragFlag } = this\n    if (sele) {\n      if (sele.getAttribute('__click__') === '1'\n      && n[i].parentNode === sele\n      && document.activeElement !== n[i].firstElementChild\n      && !dragFlag) {\n        this.editNode(sele)\n        sele.setAttribute('__click__', '0')\n      } else {\n        sele.setAttribute('__click__', '1')\n        if (!dragFlag) {\n          // TRIGGER CLICK CALLBACK\n          this.$emit('click', mmdata.getSource(d.data.id), d.data.id)\n        }\n      }\n    }\n  }\n  fObjectRightClick(d: FlexNode, i: number, n: ArrayLike<Element>) {\n    const sele = document.getElementById('selectedNode')\n    const edit = document.getElementById('editing')\n    const clickedNode = n[i].parentNode as Element\n    const show = () => { // 显示右键菜单\n      const pos = this.getViewPos()\n      this.contextMenuX = pos.left\n      this.contextMenuY = pos.top\n      this.showContextMenu = true\n      this.clearSelection()\n      setTimeout(() => { this.$refs.menu.focus() }, 300)\n    }\n    if (clickedNode.classList.contains('multiSelectedNode')) {\n      const t: Mdata[] = []\n      ;(this.mindmapG.selectAll('g.multiSelectedNode') as d3.Selection<Element, FlexNode, Element, FlexNode>)\n        .each((d, i, n) => { t.push(d.data) })\n      const collapseFlag = t.filter((d) => d.children && d.children.length > 0).length > 0\n      const expandFlag = t.filter((d) => d._children && d._children.length > 0).length > 0\n      this.contextMenuItems[1].disabled = !collapseFlag\n      this.contextMenuItems[2].disabled = !expandFlag\n      this.contextMenuTarget = t\n      show()\n    } else if (clickedNode !== edit) { // 非正在编辑\n      if (clickedNode !== sele) { // 选中\n        this.selectNode(clickedNode)\n      }\n      const { data } = d\n      this.contextMenuItems[1].disabled = !(data.children && data.children.length > 0)\n      this.contextMenuItems[2].disabled = !(data._children && data._children.length > 0)\n      this.contextMenuTarget = data\n      show()\n    }\n  }\n  gBtnClick(a: FlexNode, i: number, n: ArrayLike<Element>) { // 添加子节点\n    if ((n[i] as SVGElement).style.opacity === '1') {\n      d3.event.stopPropagation()\n      const d: FlexNode = d3.select(n[i].parentNode as Element).data()[0] as FlexNode\n      const newD = this.add(d.data, { name: '', content: '' })\n      this.mouseLeave(d, i, n)\n      if (newD) {\n        this.editNew(newD, d.depth + 1, n[i].parentNode as Element)\n      }\n    }\n  }\n  clickMenu(key: string) {\n    this.showContextMenu = false\n    const { contextMenuTarget } = this\n    switch (key) {\n      case 'delete':\n        this.del(contextMenuTarget)\n        break\n      case 'collapse':\n        this.collapse(contextMenuTarget)\n        break\n      case 'expand':\n        this.expand(contextMenuTarget)\n        break\n      default:\n        break\n    }\n    (this.$refs.svg as HTMLElement).focus()\n    this.removeSelectedId()\n  }\n  // 悬浮事件\n  mouseLeave(d: FlexNode, i: number, n: ArrayLike<Element>) {\n    if ((n[i] as SVGElement).className.baseVal.includes('gButton')) {\n      d3.select(n[i]).style('opacity', 0)\n    } else {\n      d3.selectAll('g.gButton').filter((a, b, c) => (c[b] as Element).parentNode === n[i].parentNode).style('opacity', 0)\n    }\n  }\n  mouseEnter(d: FlexNode, i: number, n: ArrayLike<Element>) {\n    const flag = (d.data._children?.length || 0) > 0\n    if (!flag) {\n      if ((n[i] as SVGElement).className.baseVal.includes('gButton')) {\n        d3.select(n[i]).style('opacity', 1)\n      } else {\n        d3.selectAll('g.gButton').filter((a, b, c) => (c[b] as Element).parentNode === n[i].parentNode).style('opacity', 0.5)\n      }\n    }\n  }\n  // 拖拽\n  draggedNodeRenew(draggedNode: Element, px: number, py: number, dura = 0, d: FlexNode) {\n    const { path, renewOffset } = this\n    renewOffset(d, px, py)\n    const targetY = d.dy + py // x轴坐标\n    const targetX = d.dx + px // y轴坐标\n    const tran = d3.transition().duration(dura).ease(d3.easePoly)\n\n    d3.select(draggedNode).transition(tran as any).attr('transform', `translate(${targetY},${targetX})`)\n    // 更新draggedNode与父节点的path\n    d3.select(`path#path_${d.data.id}`).transition(tran as any).attr('d', (d) => path(d as FlexNode))\n  }\n  renewOffset(d: FlexNode, px: number, py: number) { // 更新偏移量\n    d.px = px\n    d.py = py\n    if (d.children) {\n      for (let index = 0; index < d.children.length; index += 1) {\n        const dChild = d.children[index]\n        this.renewOffset(dChild, px, py)\n      }\n    }\n  }\n  dragged(a: FlexNode, i: number, n: ArrayLike<Element>) { // 拖拽中【待完善】\n    this.dragFlag = true\n    if (a.depth !== 0) {\n      const { mindmapG, xSpacing, foreignX, foreignY } = this\n      const draggedNode = n[i].parentNode as Element\n      // 拖拽，相对a原本位置的偏移\n      this.draggedNodeRenew(draggedNode, d3.event.y - a.y, d3.event.x - a.x, undefined, a)\n      // 鼠标的坐标（相对于this.$refs.content）\n      const t = d3.mouse(this.$refs.content as SVGGElement)\n      const targetY = t[0] // x轴坐标\n      const targetX = t[1] // y轴坐标\n\n      // 计算others的坐标\n      ;(mindmapG.selectAll('g.node') as d3.Selection<Element, FlexNode, Element, FlexNode>)\n        .filter((d, i, n) => draggedNode !== n[i] && draggedNode.parentNode !== n[i])\n        .each((d, i, n) => {\n          const gNode = n[i]\n          const rect = { // 其他gRect的坐标，以及gRect的宽高\n            y: foreignX(d) + d.y, // foreignObject的x轴偏移\n            x: foreignY(d) + d.x, // foreignObject的y轴偏移\n            width: d.size[1] - xSpacing,\n            height: d.size[0],\n          }\n          // 重叠触发矩形边框\n          if ((targetY > rect.y) && (targetY < rect.y + rect.width)\n          && (targetX > rect.x) && (targetX < rect.x + rect.height)) {\n            gNode.setAttribute('id', 'newParentNode')\n          } else if (gNode.getAttribute('id') === 'newParentNode') {\n            gNode.removeAttribute('id')\n          }\n        })\n    }\n  }\n  dragback(d: FlexNode, draggedNode: Element) {\n    this.draggedNodeRenew(draggedNode, 0, 0, 1000, d)\n  }\n  dragended(d: FlexNode, i: number, n: ArrayLike<Element>) {\n    const { dragback, reparent, fObjectClick } = this\n    const draggedNode = n[i].parentNode as Element\n    const newParentNode = document.getElementById('newParentNode')\n    if (newParentNode) { // 建立新的父子关系\n      newParentNode.removeAttribute('id')\n      const newParentD = d3.select(newParentNode).data()[0] as FlexNode\n      reparent(newParentD.data, d.data)\n    } else {\n      const LR = (d.data.id.split('-').length === 2) && ((d.y > 0 && d.y + d.py < 0) || (d.y < 0 && d.y + d.py > 0)) // 左右节点变换\n      const flag = LR ? (a: FlexNode) => a.data.left !== d.data.left : (a: FlexNode) => a.data.left === d.data.left\n      const draggedParentNode = d3.select(draggedNode.parentNode as Element)\n      const draggedBrotherNodes = (draggedParentNode.selectAll(`g.depth_${d.depth}`) as d3.Selection<Element, FlexNode, Element, FlexNode>)\n        .filter((a, i, n) => draggedNode !== n[i] && flag(a))\n      if (!draggedBrotherNodes.nodes()[0]) { // 无兄弟节点时\n        if (LR) {\n          this.move(d.data)\n        } else {\n          dragback(d, draggedNode)\n          fObjectClick(d, i, n)\n        }\n      } else {\n        const a: { x0: number, x1: number, b1?: Mdata, n1?: Element, b0?: Mdata, n0?: Element } = { x0: Infinity, x1: -Infinity }\n        draggedBrotherNodes.each((b, i, n) => {\n          if (((b.x > d.x) || LR) && b.x > a.x1 && b.x < (d.x + d.px)) { // 找到新哥哥节点\n            a.x1 = b.x\n            a.b1 = b.data\n            a.n1 = n[i]\n          }\n          if (((b.x < d.x) || LR) && b.x < a.x0 && b.x > (d.x + d.px)) { // 找到新弟弟节点\n            a.x0 = b.x\n            a.b0 = b.data\n            a.n0 = n[i]\n          }\n        })\n        if (a.b0 || a.b1) { // 存在新兄弟节点时调换节点顺序\n          const sdata = d.data\n          if (a.b0 && a.n0) { // 插入在兄弟节点前面\n            this.move(sdata, a.b0)\n            draggedNode.parentNode?.insertBefore(draggedNode, a.n0)\n          } else if (a.b1 && a.n1) { // 插入在兄弟节点后面\n            this.move(sdata, a.b1, 1)\n            draggedNode.parentNode?.insertBefore(draggedNode, a.n1.nextSibling)\n          }\n        } else {\n          dragback(d, draggedNode)\n          fObjectClick(d, i, n)\n        }\n      }\n    }\n    this.dragFlag = false\n  }\n  // 多选\n  removeMultiSelected() {\n    (this.mindmapG.selectAll('g.multiSelectedNode') as d3.Selection<Element, FlexNode, Element, FlexNode>)\n      .each((d, i, n) => { n[i].classList.remove('multiSelectedNode') })\n  }\n  multiSelectStart() { // 开始多选\n    this.removeSelectedId()\n\n    if (d3.event.button === 0) { // 左键\n      this.removeMultiSelected()\n      this.multiSeleFlag = true\n      const { mouse, getViewPos } = this\n      const vp = getViewPos()\n      mouse.x0 = vp.left\n      mouse.y0 = vp.top\n    }\n  }\n  multiSelect() { // 多选中\n    if (this.multiSeleFlag) {\n      this.showSelectedBox = true\n      d3.event.preventDefault()\n      const { mouse, getViewPos } = this\n      const vp = getViewPos()\n      mouse.x1 = vp.left\n      mouse.y1 = vp.top\n\n      const { mindmapG, seleBox } = this\n      ;(mindmapG.selectAll('foreignObject') as d3.Selection<Element, FlexNode, Element, FlexNode>)\n        .each((d, i, n) => {\n          const f = n[i]\n          const g = (f.parentNode as Element)\n          const pos = getViewPos(f.getBoundingClientRect())\n          const flag = pos.left < seleBox.right && pos.bottom > seleBox.top && pos.right > seleBox.left && pos.top < seleBox.bottom\n          if (flag) {\n            g.classList.add('multiSelectedNode')\n          } else {\n            g.classList.remove('multiSelectedNode')\n          }\n        })\n    }\n  }\n  multiSelectEnd() { // 结束多选\n    this.multiSeleFlag = false\n    this.showSelectedBox = false\n    const { mouse } = this\n    mouse.x0 = mouse.x1 = mouse.y0 = mouse.y1 = 0\n  }\n  // 绘制\n  updateMindmap() {\n    this.tree()\n    this.getDTop()\n    this.draw()\n    this.initNodeEvent()\n  }\n  dKey(d: FlexNode) { return d.data.gKey }\n  gClass(d: FlexNode) { return `depth_${d.depth} node` }\n  gTransform(d: FlexNode) { return `translate(${d.dy},${d.dx})` }\n  foreignX(d: FlexNode) {\n    const { xSpacing, foreignBorderWidth } = this\n    return -foreignBorderWidth + (d.data.id !== '0' ? (d.data.left ? -d.size[1] + xSpacing : 0) : -(d.size[1] - xSpacing * 2) / 2)\n  }\n  foreignY(d: FlexNode) { return -this.foreignBorderWidth + (d.data.id !== '0' ? -d.size[0] : -d.size[0] / 2) }\n  gBtnTransform(d: FlexNode) {\n    const { xSpacing, gBtnSide } = this\n    let x = d.data.id === '0' ? (d.size[1] - xSpacing * 2) / 2 + 8 : d.size[1] - xSpacing + 8\n    if (d.data.left) {\n      x = -x - gBtnSide\n    }\n    return `translate(${x},${-gBtnSide / 2})`\n  }\n  gBtnVisible(d: FlexNode) { return ((d.data._children?.length || 0) <= 0) ? 'visible' : 'hidden' }\n  gEllTransform(d: FlexNode) {\n    const { xSpacing } = this\n    let x = d.data.id === '0' ? (d.size[1] - xSpacing * 2) / 2 + 6 : d.size[1] - xSpacing + 6\n    if (d.data.left) {\n      x = -x - 16\n    }\n    return `translate(${x},${0})`\n  }\n  gEllVisible(d: FlexNode) { return (d.data._children?.length || 0) > 0 ? 'visible' : 'hidden' }\n  pathId(d: FlexNode) { return `path_${d.data.id}` }\n  pathClass(d: FlexNode) { return `depth_${d.depth}` }\n  pathColor(d: FlexNode) { return d.data.color || 'white' }\n  path(d: FlexNode) {\n    const { xSpacing, link } = this\n    const temp = (d.parent && d.parent.data.id === '0') ? -d.dy : (d.data.left ? xSpacing : -xSpacing)\n    const sourceX = temp - d.py\n    const sourceY = 0 - d.dx - d.px\n    let textWidth = d.size[1] - xSpacing\n    if (d.data.left) {\n      textWidth = -textWidth\n    }\n\n    return `${link({ source: [sourceX, sourceY], target: [0, 0] })}L${textWidth},${0}`\n  }\n  nest(d: FlexNode, i: number, n: ArrayLike<Element>) {\n    const { dKey, appendNode, updateNode, exitNode } = this\n    const dd = d.children || [];\n    (d3.select(n[i]).selectAll(`g${dd[0] ? `.depth_${dd[0].depth}.node` : ''}`) as d3.Selection<Element, FlexNode, Element, FlexNode>)\n      .data(dd, dKey)\n      .join(appendNode, updateNode, exitNode)\n  }\n  appendNode(enter: d3.Selection<d3.EnterElement, FlexNode, Element, FlexNode>) {\n    const { expand, gEllTransform, gClass, gTransform, updateNodeName, divKeyDown, foreignY, gBtnTransform, pathId, pathClass, pathColor, path, nest, fdivMouseDown, foreignX, gBtnSide, gBtnVisible, gEllVisible } = this\n    const gNode = enter.append('g').attr('class', gClass).attr('transform', gTransform)\n\n    const foreign = gNode.append('foreignObject').attr('x', foreignX).attr('y', foreignY)\n    const foreignDiv = foreign.append('xhtml:div').attr('contenteditable', false).text((d: FlexNode) => d.data.name)\n    foreignDiv.on('blur', updateNodeName).on('keydown', divKeyDown).on('mousedown', fdivMouseDown)\n    foreignDiv.each((d, i, n) => {\n      const observer = new ResizeObserver((l) => {\n        const t = l[0].target\n        const b1 = getComputedStyle(t).borderTopWidth\n        const b2 = getComputedStyle(t.parentNode as Element).borderTopWidth\n        const spacing = (parseInt(b1, 10) + parseInt(b2, 10)) || 0\n        foreign.filter((d: FlexNode, index: number) => i === index)\n          .attr('width', l[0].contentRect.width + spacing * 2)// div和foreign border\n          .attr('height', l[0].contentRect.height + spacing * 2)\n      })\n      observer.observe(n[i] as Element)\n    })\n\n    const gBtn = gNode.append('g').attr('class', 'gButton').attr('transform', gBtnTransform).style('visibility', gBtnVisible)\n    gBtn.append('rect').attr('width', gBtnSide).attr('height', gBtnSide).attr('rx', 3).attr('ry', 3)\n    gBtn.append('path').attr('d', 'M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z')\n\n    const ell = gNode.append('g').attr('class', 'gEllipsis').attr('transform', gEllTransform).style('visibility', gEllVisible)\n      .classed('show', (d: FlexNode) => (d.data._children?.length || 0) > 0)\n      .on('click', (d: FlexNode) => expand(d.data))\n    ell.append('rect').attr('x', -2).attr('y', -6).attr('width', 20).attr('height', 14).style('opacity', 0)\n    ell.append('rect').attr('x', 0).attr('y', -2).attr('width', 16).attr('height', 4).attr('rx', 2).attr('ry', 2).attr('class', 'btn')\n      .attr('stroke', pathColor).attr('fill', pathColor)\n    ell.append('circle').attr('cx', 4).attr('cy', 0).attr('r', 1)\n    ell.append('circle').attr('cx', 8).attr('cy', 0).attr('r', 1)\n    ell.append('circle').attr('cx', 12).attr('cy', 0).attr('r', 1)\n\n    const enterData = enter.data()\n    if (enterData.length) {\n      if (enterData[0].data.id !== '0') {\n        gNode.append('path').attr('id', pathId).attr('class', pathClass).lower().attr('stroke', pathColor)\n          .attr('d', path)\n      }\n      gNode.each(nest)\n    }\n\n    gBtn.raise()\n    foreign.raise()\n    return gNode\n  }\n  updateNode(update: d3.Selection<Element, FlexNode, Element, FlexNode>) {\n    const { gEllTransform, gClass, gTransform, easePolyInOut, foreignY, gBtnTransform, pathId, pathClass, pathColor, path, nest, foreignX } = this\n    update.interrupt().selectAll('*').interrupt()\n    update.attr('class', gClass).transition(easePolyInOut as any).attr('transform', gTransform)\n\n    update.each((d, k, m) => {\n      const node = d3.select(m[k]) as d3.Selection<Element, FlexNode, null, undefined>\n      const foreign = node.selectAll('foreignObject').filter((d, i, n) => (n[i] as Element).parentNode === m[k])\n        .data([d]) // must rebind the children using selection.data to give them the new data.\n        .attr('x', foreignX)\n        .attr('y', foreignY)\n\n      foreign.select('div').text(d.data.name)\n      node.select('path').filter((d, i, n) => (n[i] as Element).parentNode === m[k]).attr('id', pathId(d))\n        .attr('class', pathClass(d))\n        .attr('stroke', pathColor(d))\n        .transition(easePolyInOut as any)\n        .attr('d', path(d))\n\n      node.each(nest)\n\n      const ellFlag = (d.data._children?.length || 0) > 0\n\n      node.selectAll('g.gButton').filter((d, i, n) => (n[i] as Element).parentNode === m[k]).data([d])\n        .attr('transform', gBtnTransform)\n        .style('visibility', !ellFlag ? 'visible' : 'hidden')\n        .raise()\n\n      const ell = node.selectAll('g.gEllipsis').filter((d, i, n) => (n[i] as Element).parentNode === m[k]).data([d])\n        .attr('transform', gEllTransform)\n        .classed('show', ellFlag)\n        .style('visibility', ellFlag ? 'visible' : 'hidden')\n      ell.select('rect.btn').attr('stroke', pathColor).attr('fill', pathColor)\n\n      foreign.raise()\n    })\n    return update\n  }\n  exitNode(exit: d3.Selection<Element, FlexNode, Element, FlexNode>) {\n    exit.filter((d, i, n) => n[i].classList[1] === 'node').remove()\n  }\n  draw() { // 生成svg\n    const { dKey, mindmapG, appendNode, updateNode, exitNode } = this\n    const d = [this.root]\n\n    ;(mindmapG.selectAll(`g${d[0] ? `.depth_${d[0].depth}.node` : ''}`) as d3.Selection<Element, FlexNode, Element, FlexNode>)\n      .data(d, dKey)\n      .join(appendNode, updateNode, exitNode)\n  }\n  tree() { // 数据处理\n    const { ySpacing } = this\n    const layout = flextree({ spacing: ySpacing })\n    const yGap = mmdata.data.size[1] / 2\n    // left\n    const tl = layout.hierarchy(mmdata.data, (d: Mdata) => d.id.split('-').length === 1 ? d.children?.filter(d => d.left) : d.children)\n    layout(tl)\n    tl.each((a: FlexNode) => { if (a.data.id !== '0') { a.y = -a.y + yGap } })\n    // right\n    const tr = layout.hierarchy(mmdata.data, (d: Mdata) => d.id.split('-').length === 1 ? d.children?.filter(d => !d.left) : d.children)\n    layout(tr)\n    tr.each((a: FlexNode) => { if (a.data.id !== '0') { a.y = a.y - yGap } }) // 往同个方向移动固定距离\n    // all\n    tr.children = tl.children\n      ? (tr.children ? tr.children.concat(tl.children) : tl.children)\n      : tr.children\n    tr.each((a: FlexNode) => { // x纵轴 y横轴 dx dy相对偏移\n      if (a.data.id !== '0') {\n        a.x += a.size[0] / 2\n      }\n      a.dx = a.x - (a.parent ? a.parent.x : 0)\n      a.dy = a.y - (a.parent ? a.parent.y : 0)\n      a.px = 0\n      a.py = 0\n    })\n    this.root = tr\n  }\n  getDTop() {\n    let t = this.root\n    while (t.children) { t = t.children[0] }\n    this.dTop = t\n  }\n  getSize(text: string, root = false) {\n    const { dummy, xSpacing, minTextWidth, minTextHeight } = this\n    let textWidth = 0\n    let textHeight = 0\n    dummy.selectAll('.dummyText').data([text]).enter().append('div').text((d) => d)\n      .each((d, i, n) => {\n        textWidth = n[i].offsetWidth\n        textHeight = n[i].offsetHeight\n        n[i].remove() // remove them just after displaying them\n      })\n    textWidth = Math.max(minTextWidth, textWidth)\n    textHeight = Math.max(minTextHeight, textHeight)\n    return [textHeight, textWidth + (root ? xSpacing * 2 : xSpacing)]\n  }\n  clearSelection() { // 清除右键触发的选中单词\n    if (window.getSelection) {\n      const sel = window.getSelection()\n      sel?.removeAllRanges()\n    }\n  }\n  addWatch() {\n    this.$watch('value', (newVal) => {\n      if (this.toUpdate) {\n        mmdata = new ImData(newVal[0], this.getSize)\n        this.updateMmdata()\n      } else {\n        this.toUpdate = true\n      }\n    }, { immediate: true, deep: true })\n  }\n  async mounted() {\n    this.init()\n    this.mindmapSvg.on('mousedown', this.multiSelectStart)\n    this.mindmapSvg.on('mousemove', this.multiSelect)\n    this.mindmapSvg.on('mouseup', this.multiSelectEnd)\n    this.addWatch()\n    await this.makeCenter()\n    await this.fitContent()\n    this.mindmapG.style('opacity', 1)\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindMap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindMap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MindMap.vue?vue&type=template&id=6d28392e&\"\nimport script from \"./MindMap.vue?vue&type=script&lang=ts&\"\nexport * from \"./MindMap.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MindMap.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from 'vue-property-decorator'\nimport dataLearn from '../public/learn.json'\nimport mindmap from './components/MindMap.vue'\n\n@Component({ components: { mindmap } })\nexport default class App extends Vue {\n  showSource = false\n  onboarding = 0\n  length = 3\n  mmdata = dataLearn\n  items = [\n    { title: 'template' },\n    { title: 'script' },\n  ]\n  options = {\n    gps: { value: true },\n    fitView: { value: true },\n    keyboard: { value: true },\n    draggable: { value: true },\n    showNodeAdd: { value: true },\n    contextMenu: { value: true },\n    zoomable: { value: true },\n    showUndo: { value: true },\n    download: { value: true },\n    nodeId: {value: ''},\n    content: {value: ''}\n  }\n  xSpacing = 50\n  ySpacing = 20\n  strokeWidth = 4\n\n  updateNodeName(...args: any) {\n    console.log('updateNodeName', ...args)\n  }\n  click(...args: any) {\n    console.log('click', ...args);\n    this.options.nodeId.value = args[1];\n    this.options.content.value = args[0]['content'];\n  }\n  mounted() {}\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=3887ca1d&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\ninstallComponents(component, {VApp,VBtn,VCard,VCol,VContainer,VDivider,VIcon,VMain,VRow,VSheet})\n","import '@mdi/font/css/materialdesignicons.css'\nimport Vue from 'vue'\nimport Vuetify from 'vuetify/lib'\n\nVue.use(Vuetify)\n\nexport default new Vuetify({\n  icons: {\n    iconfont: 'mdi',\n  },\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport vuetify from './plugins/vuetify'\n\nVue.config.productionTip = false\n\nnew Vue({\n  vuetify,\n  render: h => h(App),\n}).$mount('#app')\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAGdJREFUSMdjYBgFBAAjker+k6ufidY+GLVg8FpQzgBJOTCMCyCrqSfVcnRL8GGSDSfFErINJ8YSig3HZwnVDMdmCdGGM5NgwVEGSNlzkIGBoZHarh+8AFdx+58kU/CYR/OiYhQMPAAAjmEtvC5aR3YAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDMtMDlUMTI6MjQ6MzMrMDA6MDBhAr59AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAzLTA5VDEyOjI0OjMzKzAwOjAwEF8GwQAAACh0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vdG1wL21hZ2ljay16aWlQenltMcMsFE8AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAWxJREFUSMfNlU1OwlAUhb8y1cIGdORAcKKwATGxYaKrcWKCuBYjIwvGsQMnGBLdgbADMYiwARz0Nh6hvLYaEm5y0/b+nPN6+u4rbJjNzTNbYd0rSiPwgAbQBoYSHwK3lvP+Sn4A9EWWVd4HKnnBT4CpAbwDTeAI2DKvAleWmwNfQD3PymPwEPAdtT7QEZJyGrgnsoQZ9fWE5DmtpyGy6Mp3gS4wM38A9iVfBEbWG7gI2lbUXAAfs/xxPy0XW8viNy6CoRUdSqzL6h0USl3VYoMk4MVGlWfmIJhKnZ+Q//ck67GR+HELkvT4mdY9qXlyEDzKfdwzELylN3i165nELoFJAvgYuJDnc7u+uF7ZtU1DIs2nwB2wI/kS8GG9py4CHbQO2Qft3np6WXoqRGMfkxQdtSUBn/B7+JxWF5IR0RDVgG3zGnAtskyA46zgsZWJzpa047qXZ+VJ+gZE4z8Q0DeLBVk0z2Ob909eu30D0eKD2ON1XwcAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDItMjFUMDc6MTg6MDYrMDA6MDDOhs0DAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAyLTIxVDA3OjE4OjA2KzAwOjAwv9t1vwAAACh0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vdG1wL21hZ2ljay1SM05jR3BZZD+JYfIAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABv0lEQVRYw+2Xvy5EQRTGf2eJRkOJVifR+BPJimp5ApXV8goaxZY8BxvvgEpWsgWNxCOgVClWyKcwK3Pvnbt2x90Ncr/kJjNnZs73zTn33pkDJUr8DJY3IGkLWATGnOnazFoxJJLWgarrvgN3ZnY+iINTZdGI3bWkRsDfaWhuJScy9VjyAVCXtJk2jgcmLnnta6Cbpqh0eWuPXdtP3zJw0XNlKryNosPynf9KhM+hohT0LwRNjJA/wxUStDxCQRmuhCBJdcD/WT0MQcSj1950nF8wSQfAJLCWEvMMLJjZU5FqJM0A98C0Z74A2sALgTOmI6klaWUI0emKWnUcnTR53ldm9LgJFISgf5N0xOcVYxHY8sZGmbJz4I7Pq0licj0Vwb2iwyJpP8WReKkTKTOzJsnTd65oQcCsHxnHGRbkcJOzs4qkXfdYrD2F27QhdB96zVm8A5x0+YBmpL0n1687y8YHmNt0OxVw9gN7MYLMLBj2Qe3f4U+krOO1q+6sg+Lqsqo31Oln8YbCaMTuOqcuU6gMyqTMzK6AQ+AtVkCfaJpZpgTqVUrPA9vAlDNdmtllZIRqQM11X4B2SEyJEkXgAzPcc0xJNGzyAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA2LTI3VDA4OjAxOjExKzAwOjAwZ5m2KgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wNi0yN1QwODowMToxMSswMDowMBbEDpYAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\""],"sourceRoot":""}