{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/MindMap.vue?f540","webpack:///./public/icons/24px/fit-to-page-outline.png","webpack:///./public/icons/24px/close.png","webpack:///./src/components/MindMap.vue?40af","webpack:///./public/icons/36px/image.png","webpack:///./public/icons/36px/markdown.png","webpack:///./src/components/MindMap.vue?44a4","webpack:///./public/icons/24px/redo.png","webpack:///./public/icons/24px/undo.png","webpack:///./src/ts/ImData.ts","webpack:///./src/App.vue?58f8","webpack:///./src/components/MindMap.vue?778a","webpack:///./src/ts/History.ts","webpack:///./src/ts/toMarkdown.ts","webpack:///./src/components/MindMap.vue","webpack:///./src/components/MindMap.vue?2a9c","webpack:///./src/components/MindMap.vue?a065","webpack:///./src/App.vue","webpack:///./src/App.vue?4dbd","webpack:///./src/App.vue?4195","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts","webpack:///./public/icons/24px/download.png","webpack:///./public/icons/24px/crosshairs-gps.png","webpack:///./public/icons/36px/code-json.png"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","___CSS_LOADER_API_IMPORT___","___CSS_LOADER_GET_URL_IMPORT___","___CSS_LOADER_URL_IMPORT_0___","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_IMPORT_3___","___CSS_LOADER_URL_IMPORT_4___","___CSS_LOADER_URL_IMPORT_5___","___CSS_LOADER_URL_IMPORT_6___","___CSS_LOADER_URL_IMPORT_7___","___CSS_LOADER_URL_IMPORT_8___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","___CSS_LOADER_URL_REPLACEMENT_2___","___CSS_LOADER_URL_REPLACEMENT_3___","___CSS_LOADER_URL_REPLACEMENT_4___","___CSS_LOADER_URL_REPLACEMENT_5___","___CSS_LOADER_URL_REPLACEMENT_6___","___CSS_LOADER_URL_REPLACEMENT_7___","___CSS_LOADER_URL_REPLACEMENT_8___","content","locals","add","default","size","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","staticStyle","_v","options","gps","fitView","draggable","keyboard","showNodeAdd","contextMenu","zoomable","showUndo","xSpacing","ySpacing","strokeWidth","download","on","updateNodeName","click","model","callback","$$v","mmdata","expression","_l","opt","$set","staticRenderFns","ref","style","class","svgClass","directives","rawName","seleBox","width","height","top","contextMenuY","left","contextMenuX","$event","showContextMenu","item","index","disabled","clickMenu","_s","title","makeCenter","fitContent","showPopUps","canUndo","undo","canRedo","redo","selectedOption","icon","optionTip","exportTo","colorScale","colorNumber","gKey","initColor","color","id","children","_children","initSize","_getSource","nd","Array","initId","console","error","initLeft","fn","JSON","parse","stringify","find","array","split","map","arr","isArray","idChild","idArr","delIndex","pop","parent","join","undefined","child","bId","pId","pChildren","delId","insertId","insert","delIndexS","insertIndexS","insertIndex","del","parentId","np","delParentId","delParent","maxSnapshots","snapshots","cursor","snapshot","deepTraverse","md","flag","dChild","toMarkdown","dragFlag","multiSeleFlag","minTextWidth","minTextHeight","gBtnSide","foreignBorderWidth","spaceKey","toRecord","toUpdate","showSelectedBox","mouse","x0","y0","x1","y1","contextMenuItems","optionList","tip","easePolyInOut","duration","ease","link","x","y","zoom","history","val","makeKeyboard","makeNodeAdd","makeDrag","makeContextMenu","resize","updateMmdata","updateMindmap","makeZoom","svgPos","$refs","svg","getBoundingClientRect","pageX","pageY","viewLeft","pageXOffset","viewTop","pageYOffset","right","bottom","record","$emit","getSource","mindmapSvg","mindmapG","dummy","preventDefault","mindmapSvgZoom","attr","transform","filter","ctrlKey","type","button","scaleExtent","svgKeyDown","svgKeyUp","fObject","selectAll","gBtn","mouseLeave","mouseEnter","gBtnClick","selection","fObjectRightClick","dragged","fObjMousedown","dragended","drag","container","parentNode","deltaY","deltaX","current","px","py","k","scaleTo","translateBy","filename","eleLink","document","createElement","display","blob","Blob","href","URL","createObjectURL","body","appendChild","removeChild","downloadFile","end","then","translateTo","rect","getBBox","div","mindmap","multipleX","offsetWidth","multipleY","offsetHeight","multiple","Math","min","transition","dParent","dPosition","move","reparent","rename","collapse","expand","event","keyName","metaKey","sele","seleNode","node","seleData","seleDepth","depth","im","pNode","editNew","editP","querySelector","getSelection","removeAllRanges","editText","innerText","select","each","removeAttribute","updateName","setAttribute","getElementById","removeMultiSelected","getAttribute","removeSelectedId","fObj","a","b","focusNode","fdiv","selectAllChildren","fObjPos","newD","editNode","err","log","target","stopPropagation","edit","clickedNode","f","firstElementChild","blur","selectNode","activeElement","show","pos","getViewPos","clearSelection","setTimeout","menu","focus","classList","contains","collapseFlag","expandFlag","contextMenuTarget","opacity","className","baseVal","includes","draggedNode","dura","path","renewOffset","targetY","dy","targetX","dx","tran","foreignX","foreignY","draggedNodeRenew","gNode","dragback","fObjectClick","newParentNode","newParentD","LR","draggedParentNode","draggedBrotherNodes","nodes","Infinity","b1","n1","b0","n0","sdata","insertBefore","nextSibling","remove","vp","g","tree","getDTop","draw","initNodeEvent","temp","sourceX","sourceY","textWidth","source","dKey","appendNode","updateNode","exitNode","dd","enter","gEllTransform","gClass","gTransform","divKeyDown","gBtnTransform","pathId","pathClass","pathColor","nest","fdivMouseDown","gBtnVisible","gEllVisible","append","foreign","foreignDiv","text","observer","ResizeObserver","getComputedStyle","borderTopWidth","b2","spacing","parseInt","contentRect","observe","ell","classed","enterData","lower","raise","update","interrupt","ellFlag","exit","root","layout","yGap","tl","hierarchy","tr","concat","dTop","textHeight","max","sel","$watch","newVal","getSize","immediate","deep","init","multiSelectStart","multiSelect","multiSelectEnd","addWatch","abs","required","component","showSource","onboarding","items","args","components","VApp","VBtn","VCard","VCol","VContainer","VDivider","VIcon","VMain","VRow","VSheet","VSlider","VSwitch","use","icons","iconfont","config","productionTip","vuetify","render","h","$mount"],"mappings":"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","file":"js/app.570e8d2f.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindMap.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/vue-style-loader/index.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindMap.vue?vue&type=style&index=0&lang=scss&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAL5JREFUSMfdlUsOgzAMRJ+qbnq00gOxJN3RawJ3YAmLNlJqPrGdLKqOZAkpkxlnHBH4JzyACVgKawSaPYOxgnisYc8gLpbiS+di3ByAvorzgXjk9B6dM4NUPGfiMnBzcjMI5KGeiewuoLtVMi5VRIFt5kd8ORNVRLP22JY9stPWEFFnjSgiVOKcL5RwtL8KGZeMRYVcd23C6bQ6V0MDL+D2+X5au9ecwKWTzmASBG/B+/HaoKHOqzYA9wpJ/AhWvz2e2M3ZuhAAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDItMjNUMDc6MTI6NDQrMDA6MDBN0Wd6AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAyLTIzVDA3OjEyOjQ0KzAwOjAwPIzfxgAAACh0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vdG1wL21hZ2ljay04YXdza0hmQsMy75cAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAgUlEQVRIx+2UMQ6AIBAEiX+4xCdY4P8r4h+k8DljIYUxIiBgNLIVxbJ7dwunVMM/AQzABPQRXAEMMKYYGDZYQALi1nFNioEAs7u4nHUSw7ltki1+JVRM3DNnezhLlrink6TKuyIVvHZEVUOu+kyrf7QnVoV2JsEQd8tO38qi4ftYAR2/iAqKWJdNAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA2LTI2VDA5OjQ5OjIyKzAwOjAwCA7QNgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wNi0yNlQwOTo0OToyMiswMDowMHlTaIoAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_GET_URL_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL_IMPORT_0___ = require(\"../../public/icons/24px/crosshairs-gps.png\");\nvar ___CSS_LOADER_URL_IMPORT_1___ = require(\"../../public/icons/24px/fit-to-page-outline.png\");\nvar ___CSS_LOADER_URL_IMPORT_2___ = require(\"../../public/icons/24px/download.png\");\nvar ___CSS_LOADER_URL_IMPORT_3___ = require(\"../../public/icons/24px/undo.png\");\nvar ___CSS_LOADER_URL_IMPORT_4___ = require(\"../../public/icons/24px/redo.png\");\nvar ___CSS_LOADER_URL_IMPORT_5___ = require(\"../../public/icons/24px/close.png\");\nvar ___CSS_LOADER_URL_IMPORT_6___ = require(\"../../public/icons/36px/code-json.png\");\nvar ___CSS_LOADER_URL_IMPORT_7___ = require(\"../../public/icons/36px/image.png\");\nvar ___CSS_LOADER_URL_IMPORT_8___ = require(\"../../public/icons/36px/markdown.png\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);\nvar ___CSS_LOADER_URL_REPLACEMENT_6___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_6___);\nvar ___CSS_LOADER_URL_REPLACEMENT_7___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_7___);\nvar ___CSS_LOADER_URL_REPLACEMENT_8___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_8___);\n// Module\nexports.push([module.id, \"button:focus{outline:none}button.icon{position:relative;cursor:pointer;width:36px;height:36px;border-radius:50%;background-repeat:no-repeat;background-color:transparent;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:0;border:0;color:#3f51b5}button.icon:before{background-color:currentColor;border-radius:inherit;bottom:0;color:inherit;content:\\\"\\\";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;-webkit-transition:opacity .2s cubic-bezier(.4,0,.6,1);transition:opacity .2s cubic-bezier(.4,0,.6,1)}button.icon:hover:before{opacity:.1}button.icon.disabled{cursor:default}button.icon.disabled:hover:before{opacity:0}button.icon i{width:24px;height:24px}button.icon i.gps{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \")}button.icon i.fitView{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \")}button.icon i.download{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \")}button.icon i.undo{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \")}button.icon i.redo{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_4___ + \")}button.icon i.close{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_5___ + \")}div#mindmap{font-size:14px;position:relative;display:-webkit-box;display:-ms-flexbox;display:flex}div#mindmap div.rightClickTrigger{position:absolute;width:100%;height:100%}div#mindmap div#dummy div{white-space:pre-wrap;width:-webkit-max-content;width:-moz-max-content;width:max-content}div#mindmap svg{-webkit-box-flex:1;-ms-flex:auto;flex:auto;outline:none;background-color:#eeeef3}div#mindmap svg.grab{cursor:-webkit-grab;cursor:grab}div#mindmap svg foreignObject{cursor:default;border-radius:3px;border:2px solid transparent}div#mindmap svg foreignObject:focus{outline:none}div#mindmap svg foreignObject div{text-align:left;-webkit-box-sizing:content-box;box-sizing:content-box;border:1px solid transparent;width:-webkit-max-content;width:-moz-max-content;width:max-content;min-width:16px;min-height:21px;white-space:pre-wrap;color:#6d6d6d}div#mindmap svg foreignObject div:focus{border-color:#9a9a9a;outline:none}div#mindmap svg g.depth_0.node>foreignObject{background-color:#fff;border-radius:5px}div#mindmap svg g.depth_0.node>foreignObject div{color:#4b4b4b}div#mindmap svg g.gButton{opacity:0}div#mindmap svg g.gButton>path{fill:#8685ff}div#mindmap svg g.gButton>rect{fill:#fff;stroke:grey;stroke-width:.5}div#mindmap svg g.gEllipsis{opacity:0}div#mindmap svg g.gEllipsis.show{opacity:1}div#mindmap svg g.gEllipsis circle{fill:#000}div#mindmap svg g.gEllipsis:hover>rect.btn{stroke:grey;fill:#fff}div#mindmap svg g.gEllipsis:hover circle{fill:#5a5ad2}div#mindmap svg.stroke-width-1 path{stroke-width:1}div#mindmap svg.stroke-width-2 path{stroke-width:2}div#mindmap svg.stroke-width-3 path{stroke-width:3}div#mindmap svg.stroke-width-4 path{stroke-width:4}div#mindmap svg.stroke-width-5 path{stroke-width:5}div#mindmap svg.stroke-width-6 path{stroke-width:6}div#mindmap svg.stroke-width-7 path{stroke-width:7}div#mindmap svg.stroke-width-8 path{stroke-width:8}div#mindmap svg.stroke-width-9 path{stroke-width:9}div#mindmap svg.stroke-width-10 path{stroke-width:10}div#mindmap svg path{fill:none;stroke-linecap:round}div#mindmap svg #selectedNode:not(.depth_0)>foreignObject{background-color:rgba(0,0,255,.15)}div#mindmap svg #selectedNode.depth_0>foreignObject{outline:3px solid;outline-color:rgba(0,0,255,.15)}div#mindmap svg .multiSelectedNode:not(.depth_0)>foreignObject{background-color:rgba(0,0,255,.15)}div#mindmap svg .multiSelectedNode.depth_0>foreignObject{outline:3px solid;outline-color:rgba(0,0,255,.15)}div#mindmap svg #newParentNode>foreignObject{border-color:rgba(0,0,255,.15)}div#mindmap svg #editing>foreignObject>div{background-color:#fff}div#mindmap svg #selectedBox{color:#393936;opacity:.1;stroke:#000;stroke-width:2}div#mindmap #menu{position:absolute;border-radius:4px;-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background-color:#eae9ed;padding:4px 0;font-weight:500;color:#3a353d}div#mindmap #menu:focus{outline:none}div#mindmap #menu .menu-item{position:relative;padding:0 20px;cursor:pointer}div#mindmap #menu .menu-item:before{background-color:#000;bottom:0;content:\\\"\\\";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;-webkit-transition:.3s cubic-bezier(.25,.8,.5,1);transition:.3s cubic-bezier(.25,.8,.5,1)}div#mindmap #menu .menu-item:not(.disabled):hover:before{opacity:.09}div#mindmap #menu .menu-item.disabled{color:#aeb2b5;cursor:not-allowed}div#mindmap div.buttonList{position:absolute}div#mindmap div.buttonList.right-bottom{bottom:0;right:0}div#mindmap div.buttonList.top-right{top:0;right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}div#mindmap div.buttonList i{-webkit-filter:invert(25%) sepia(40%) saturate(5050%) hue-rotate(227deg) brightness(78%) contrast(74%);filter:invert(25%) sepia(40%) saturate(5050%) hue-rotate(227deg) brightness(78%) contrast(74%)}div#mindmap div.buttonList button.icon.disabled i{-webkit-filter:invert(85%) sepia(20%) saturate(0) hue-rotate(125deg) brightness(86%) contrast(93%);filter:invert(85%) sepia(20%) saturate(0) hue-rotate(125deg) brightness(86%) contrast(93%)}div#mindmap div.pop-ups{position:absolute;left:0;top:0;bottom:0;right:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}div#mindmap div.pop-ups div.layer{position:absolute;left:0;top:0;bottom:0;right:0;opacity:.46;background-color:#212121}div#mindmap div.pop-ups .content{position:relative;-webkit-box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}div#mindmap div.pop-ups .content div.exportTo{background-color:#ececec;border-radius:4px;width:-webkit-min-content;width:-moz-min-content;width:min-content}div#mindmap div.pop-ups .content div.exportTo .optionList{padding:5px;background-color:#fff;border-top-left-radius:inherit;border-top-right-radius:inherit;display:-webkit-box;display:-ms-flexbox;display:flex}div#mindmap div.pop-ups .content div.exportTo .optionList .option{cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:84px;height:84px;border-radius:4px;color:#747474}div#mindmap div.pop-ups .content div.exportTo .optionList .option.select{background-color:#e8e8e8}div#mindmap div.pop-ups .content div.exportTo .optionList .option.disabled{cursor:not-allowed}div#mindmap div.pop-ups .content div.exportTo .optionList .option.disabled .icon{background-color:rgba(0,0,0,.12)!important}div#mindmap div.pop-ups .content div.exportTo .optionList .option .icon{padding:2px;border-radius:6px;margin-bottom:10px}div#mindmap div.pop-ups .content div.exportTo .optionList .option .icon.purpleOpt{background-color:#c38efc}div#mindmap div.pop-ups .content div.exportTo .optionList .option .icon.greenOpt{background-color:#4bd964}div#mindmap div.pop-ups .content div.exportTo .optionList .option .icon.grassOpt{background-color:#97d439}div#mindmap div.pop-ups .content div.exportTo .optionList .option .icon i{display:block;width:36px;height:36px}div#mindmap div.pop-ups .content div.exportTo .optionList .option .icon i.code-json{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_6___ + \")}div#mindmap div.pop-ups .content div.exportTo .optionList .option .icon i.image{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_7___ + \")}div#mindmap div.pop-ups .content div.exportTo .optionList .option .icon i.markdown{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_8___ + \")}div#mindmap div.pop-ups .content div.exportTo .optionList .option .text{font-size:12px}div#mindmap div.pop-ups .content div.exportTo .optionTip{padding:10px 30px;border-top:1px solid #ddddde;border-bottom:1px solid #ddddde}div#mindmap div.pop-ups .content div.exportTo .action{padding:10px;display:-webkit-box;display:-ms-flexbox;display:flex}div#mindmap div.pop-ups .content div.exportTo .action .spacer{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1}div#mindmap div.pop-ups .content div.exportTo .action button{height:24px;width:64px;margin:0 5px;background-color:#3c89fd;color:#fff;border-radius:4px}div#mindmap div.pop-ups .content div.exportTo .action button.cancel{background-color:#fff;color:#000}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABM0lEQVRYw+2WoU7EQBCG/zlRBAkJjhAcEg0kCCQKXoHgMaB4BzSe8AQIXoEcAiwEg+bOcAYBR8iHaI+U0u31uG73EvaTnensl840O1IkEvlnWPEBsCxpV9Ki57MHkq7M7NmZAWwCA9rjBVivEuq2KDPi2tky4F1S4rlVRYZmNucSomWZVMLs26MTQqCKKBRK6FDSw9RVGvqNz7Jaa8BrnRemFboA+o7YDZDk6h34FuoCCbAFvBVifWClpOa5L6Ee6T03yt3PxT6BHUfNeeC+aaEPYLsk/zSLn4yZzcp5+ovQsSO/AxwBpjFQMU+TCl3WObAOrnmaROgRWGhCJqtfOk/5nJm/XIcBfH6cWRS6CyB064wAG6RrZVv8WmHLlvwlSXuSVj1/mSelS34vQFcikcjs8AV/fwWj+hXXkQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wNi0yN1QwODowNDoyNSswMDowMPtwXp4AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDYtMjdUMDg6MDQ6MjUrMDA6MDCKLeYiAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABf0lEQVRYw+2WMShFURjHf59IKQbZxSIMkg2LwWBRKOMrk5LlmS1CVimD0YLBRFllEj3rwxMpIat6IfE3uOV0u/ddL9djOL+63Xu//3c6//Ode8494PF4PJ54JPVLOlPlOJXU53qwkKECUATWgPdfHn8VMAnUmVlbXIUkKVvBGclKUtjlv6KkIUlLknLBNR2hDzr6ToTe6Ojr3zFUnaC3Aj3Bc7ekKzPbCzprATaApkBvjGhf47R/+3GFInI3JXVIqgd2HTOpkVShMA3ANnANdKZtptwKnQT3dmAoFPsTQzPAofN+C4xFJUpakHQJHDnhLkmXki4kDaRh6AUYAW6AZ2AUuI/JnQPyQLMTq+Vzkaya2X4ahjCzh8DIhJkdl8h7BcaBg5A0a2bLpfooe2M0s5yZbX0j7wkYBnJBaMXMFpPaJa2yK74+3GKELke/izD1KGkImALmyx28/5dFEZ6yApCR9ERljh8Z4Dw2Q1KfpHwFD2h5Sb1/OiUej8fz3/kAofCKQ2o85qYAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDYtMjdUMDc6NTQ6MTUrMDA6MDAj2CAKAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTA2LTI3VDA3OjU0OjE1KzAwOjAwUoWYtgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindMap.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"40ae7104\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA7klEQVRIS+3TPU4DMRCG4SenAUHJBShoOAAcAaQ06VEkQoMoaSighQpukBuEny6ipucSkZEXWY43XmmVItJammY9/r6Zd2ZHtnxGW9Y3GFQJD4jaEF3hNlzWEB3hHPvYi7HAO5b4ipEaTXDfaLcZBOGLGLVBPmGKX4zxEB/8aZcMzvCaqf7gGx84iHGY5dzgOvlWNMjFn/GCeaGNE9whdFs6awYh8TPJDOzfanwwyypvnqwZPCbM+4r/429mkFYfhnbZo/JiB8cI/EOcFlYv92vDkua1blGH4run1H607kqbVqm3ygaBoYMq3d1HtAIbdiAZj1AwpAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAA6ElEQVRIS+3UsU4CQRSF4Y834B3sTSBWVlT2FlJpbUNjYqWF0FDb0FBjg4mFT2BjqAwVJja8imbIQNYFMrMFBYRNbiaZPXP/OedutmbHT23H/R0ByYQPK6I+HpKeKwqKEf1igE6pRwPnCGszrjN8Y45XfG3jlgFB94w71HGPx4xLDxFqDbQJEPr18FRq/INQU5zGOilp2tHRansboHjuI85mssHJBa5xU3j3D5ICBCfdjIiuMC7ozpZxpQDLuKpCwjxuw+EcQBXIGy6jk4WLXEAupIUXjPCOz8P6VWR8LNUlx4iSme1/RH9DnykZwQm1/AAAAABJRU5ErkJggg==\"","import * as d3ScaleChromatic from 'd3-scale-chromatic'\nimport * as d3Scale from 'd3-scale'\n\nconst colorScale = d3Scale.scaleOrdinal(d3ScaleChromatic.schemePaired) // 颜色列表\nlet colorNumber = 0\nlet size: Function // 生成size的函数\nlet gKey = 0\n\nfunction initColor(d: Mdata, c?: string) { // 初始化颜色\n  let color\n  if (d.id !== '0') {\n    color = c || colorScale(`${colorNumber += 1}`)\n    d.color = color\n  }\n  const { children, _children } = d\n  if (children) {\n    for (let i = 0; i < children.length; i += 1) {\n      initColor(children[i], color)\n    }\n  }\n  if (_children) {\n    for (let i = 0; i < _children.length; i += 1) {\n      initColor(_children[i], color)\n    }\n  }\n}\n\nfunction initSize(d: Mdata) { // 初始化size\n  d.size = size(d.name, d.id === '0')\n  const { children, _children } = d\n  if (children) {\n    for (let i = 0; i < children.length; i += 1) {\n      initSize(children[i])\n    }\n  }\n  if (_children) {\n    for (let i = 0; i < _children.length; i += 1) {\n      initSize(_children[i])\n    }\n  }\n}\n\nfunction _getSource(d: Mdata) { // 返回源数据\n  const { children, _children } = d\n  const nd: Data = { name: d.name }\n  nd.left = d.left\n  if (children) {\n    const { length } = children\n    nd.children = new Array(length)\n    for (let i = 0; i < length; i++) {\n      nd.children[i] = _getSource(children[i])\n    }\n  }\n  if (_children) {\n    const { length } = _children\n    nd._children = new Array(length)\n    for (let i = 0; i < length; i++) {\n      nd._children[i] = _getSource(_children[i])\n    }\n  }\n  return nd\n}\n\nfunction initId(d: Mdata, id = '0') { // 初始化唯一标识：待优化\n  d.id = id\n  d.gKey = d.gKey || (gKey += 1)\n  const { children, _children } = d\n\n  if (children?.length && _children?.length) {\n    console.error('[Mindmap warn]: Error in data: data.children and data._children cannot contain data at the same time')\n  } else {\n    if (children) {\n      for (let i = 0; i < children.length;) {\n        if (children[i].id === 'del') {\n          children.splice(i, 1)\n        } else {\n          initId(children[i], `${id}-${i}`)\n          i += 1\n        }\n      }\n    }\n    if (_children) {\n      for (let i = 0; i < _children.length;) {\n        if (_children[i].id === 'del') {\n          _children.splice(i, 1)\n        } else {\n          initId(_children[i], `${id}-${i}`)\n          i += 1\n        }\n      }\n    }\n  }\n}\n\nfunction initLeft(d: Mdata, left = false) {\n  d.left = left\n  const { children, _children } = d\n  if (children) {\n    for (let i = 0; i < children.length; i += 1) {\n      initLeft(children[i], d.left)\n    }\n  }\n  if (_children) {\n    for (let i = 0; i < _children.length; i += 1) {\n      initLeft(_children[i], d.left)\n    }\n  }\n}\n\nclass ImData {\n  data: Mdata\n  constructor(d: Data, fn: Function) {\n    size = fn\n    this.data = JSON.parse(JSON.stringify(d))\n    initId(this.data)\n    initColor(this.data)\n    initSize(this.data)\n\n    this.data.left = false\n    const { children, _children } = this.data\n    if (children) {\n      for (let i = 0; i < children.length; i += 1) {\n        initLeft(children[i], children[i].left)\n      }\n    }\n    if (_children) {\n      for (let i = 0; i < _children.length; i += 1) {\n        initLeft(_children[i], _children[i].left)\n      }\n    }\n  }\n\n  getSource(id = '0') {\n    const d = this.find(id)\n    return d ? _getSource(d) : { name: '' }\n  }\n\n  resize(id = '0') { // 更新size\n    const d = this.find(id)\n    if (d) {\n      initSize(d)\n    }\n  }\n\n  find(id: string) { // 根据id找到数据\n    const array = id.split('-').map(n => ~~n)\n    let data = this.data\n    for (let i = 1; i < array.length; i++) {\n      if (data && data.children) {\n        data = data.children[array[i]]\n      } else { // No data matching id\n        return null\n      }\n    }\n    return data\n  }\n\n  rename(id: string, name: string) { // 修改名称\n    if (id.length > 0) {\n      const d = this.find(id)\n      if (d) {\n        d.name = name\n        d.size = size(name, d.id === '0')\n      }\n      return d\n    }\n  }\n\n  collapse(id: string | string[]) { // 折叠\n    const arr = Array.isArray(id) ? id : [id]\n    for (let i = 0; i < arr.length; i++) {\n      const idChild = arr[i]\n      const d = this.find(idChild)\n      if (d && (!d._children || d._children.length === 0)) {\n        d._children = d.children\n        d.children = []\n      }\n    }\n  }\n\n  expand(id: string | string[]) { // 展开\n    const arr = Array.isArray(id) ? id : [id]\n    for (let i = 0; i < arr.length; i++) {\n      const idChild = arr[i]\n      const d = this.find(idChild)\n      if (d && (!d.children || d.children.length === 0)) {\n        d.children = d._children\n        d._children = []\n      }\n    }\n  }\n\n  del(id: string | string[]) { // 删除指定id的数据\n    const arr = Array.isArray(id) ? id : [id]\n    let p\n    for (let i = 0; i < arr.length; i++) {\n      const idChild = arr[i]\n      const idArr = idChild.split('-')\n      if (idArr.length >= 2) { // 有parent\n        const delIndex = idArr.pop()\n        const parent = this.find(idArr.join('-'))\n        if (delIndex && parent) {\n          if (parent.children) {\n            parent.children[~~delIndex].id = 'del' // 更新id时删除\n          }\n          if (p === undefined || (p.id.split('-').length > parent.id.split('-').length)) { // 找出最高的parent\n            p = parent\n          }\n        }\n      }\n    }\n    if (p) {\n      initId(p, p.id)\n    }\n  }\n\n  add(id: string, child: Data) { // 添加新的子节点\n    if (id.length > 0) {\n      const parent = this.find(id)\n      if (parent) {\n        if ((parent._children?.length || 0) > 0) { // 判断是否折叠，如果折叠，展开\n          parent.children = parent._children\n          parent._children = []\n        }\n        const c: Mdata = JSON.parse(JSON.stringify(child))\n        parent.children ? parent.children.push(c) : parent.children = [c]\n        initColor(c, parent.color || colorScale(`${colorNumber += 1}`))\n        initId(c, `${parent.id}-${parent.children.length - 1}`)\n        c.left = parent.left\n        initSize(c)\n        return c\n      }\n    }\n  }\n\n  insert(id: string, d: Data, i = 0) { // 插入新的节点在前（或在后）\n    if (id.length > 2) {\n      const idArr = id.split('-')\n      const bId = idArr.pop()\n      const pId = idArr.join('-')\n      const parent = this.find(pId)\n      if (bId && parent) {\n        const c: Mdata = JSON.parse(JSON.stringify(d))\n        const pChildren = parent.children\n        if (pChildren) {\n          pChildren.splice(~~bId + i, 0, c)\n          c.left = pChildren[~~bId].left\n        }\n        initColor(c, parent.color || colorScale(`${colorNumber += 1}`))\n        initId(parent, parent.id)\n        initSize(c)\n        return c\n      }\n    }\n  }\n\n  move(delId: string, insertId?: string, i = 0) { // 节点在同层移动\n    if (delId.length > 2) {\n      if (!insertId) { // 左右转换\n        const del = this.find(delId)\n        if (del) {\n          initLeft(del, !del.left)\n        }\n      } else if (insertId.length > 2) {\n        const insert = this.find(insertId)\n        const idArr = delId.split('-')\n        const delIndexS = idArr.pop()\n        const pId = idArr.join('-')\n        const parent = this.find(pId)\n        const insertIndexS = insertId.split('-').pop()\n\n        if (delIndexS && insertIndexS && insert && parent && parent.children) {\n          const delIndex = ~~delIndexS\n          let insertIndex = ~~insertIndexS\n          // 删除时可能会改变插入的序号\n          if (delIndex < insertIndex) {\n            insertIndex -= 1\n          }\n          const del = parent.children.splice(delIndex, 1)[0]\n          if (del.left !== insert.left) { // 左右转换\n            initLeft(del, insert.left)\n          }\n          parent.children.splice(insertIndex + i, 0, del)\n          initId(parent, parent.id)\n        }\n      }\n    }\n  }\n\n  reparent(parentId: string, delId: string) { // 节点移动到其他层\n    if (delId.length > 2 && parentId.length > 0 && parentId !== delId) {\n      const np = this.find(parentId)\n      const idArr = delId.split('-')\n      const delIndex = idArr.pop()\n      const delParentId = idArr.join('-')\n      const delParent = this.find(delParentId)\n      if (delIndex && delParent && np) {\n        const del = delParent.children?.splice(~~delIndex, 1)[0] // 删除\n        if (del) {\n          (np.children?.length || 0) > 0 ? np.children?.push(del)\n            : ((np._children?.length || 0) > 0 ? np._children?.push(del) : np.children = [del])\n\n          initColor(del, parentId === '0' ? colorScale(`${colorNumber += 1}`) : np.color)\n          initLeft(del, parentId === '0' ? del.left : np.left)\n          initId(np, np.id)\n          initId(delParent, delParent.id)\n        }\n      }\n    }\n  }\n}\n\nexport default ImData\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-main',[_c('v-container',{staticClass:\"fill-height\",attrs:{\"fluid\":\"\"}},[_c('v-card',{staticClass:\"fill-height\",attrs:{\"outlined\":\"\",\"width\":\"100%\"}},[_c('v-sheet',{staticClass:\"fill-height\"},[_c('v-row',{staticClass:\"fill-height\",attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"d-flex flex-column\",attrs:{\"md\":\"9\",\"cols\":\"12\"}},[_c('div',{staticClass:\"d-flex grey lighten-3\"},[_c('div',{staticClass:\"d-flex px-3 title font-weight-regular align-center\",staticStyle:{\"height\":\"48px\",\"width\":\"100%\"}},[_c('v-btn',{attrs:{\"icon\":\"\",\"href\":\"https://github.com/hellowuxin/mindmap\"}},[_c('v-icon',[_vm._v(\"mdi-github\")])],1)],1),_c('v-divider',{attrs:{\"vertical\":\"\"}})],1),_c('v-divider'),_c('div',{staticClass:\"d-flex flex-grow-1\"},[_c('mindmap',{attrs:{\"gps\":_vm.options.gps.value,\"fitView\":_vm.options.fitView.value,\"draggable\":_vm.options.draggable.value,\"keyboard\":_vm.options.keyboard.value,\"showNodeAdd\":_vm.options.showNodeAdd.value,\"contextMenu\":_vm.options.contextMenu.value,\"zoomable\":_vm.options.zoomable.value,\"showUndo\":_vm.options.showUndo.value,\"xSpacing\":_vm.xSpacing,\"ySpacing\":_vm.ySpacing,\"strokeWidth\":_vm.strokeWidth,\"download\":_vm.options.download.value},on:{\"updateNodeName\":_vm.updateNodeName,\"click\":_vm.click},model:{value:(_vm.mmdata),callback:function ($$v) {_vm.mmdata=$$v},expression:\"mmdata\"}}),_c('v-divider',{attrs:{\"vertical\":\"\"}})],1)],1),_c('v-col',{attrs:{\"md\":\"3\",\"cols\":\"12\"}},[_c('div',{staticClass:\"grey lighten-3\"},[_c('div',{staticClass:\"d-flex px-3 title font-weight-regular align-center\",staticStyle:{\"height\":\"48px\"}},[_vm._v(\"Options\")])]),_c('v-divider'),_c('div',{staticClass:\"py-3\"},[_vm._l((_vm.options),function(opt,key){return _c('v-col',{key:key,staticClass:\"pb-0\",attrs:{\"cols\":\"12\"}},[_c('v-switch',{staticClass:\"mt-0\",attrs:{\"hide-details\":\"\",\"inset\":\"\",\"label\":key},model:{value:(opt.value),callback:function ($$v) {_vm.$set(opt, \"value\", $$v)},expression:\"opt.value\"}})],1)}),_c('v-col',{staticClass:\"pb-0\",attrs:{\"cols\":\"12\"}},[_c('v-slider',{attrs:{\"hide-details\":\"\",\"label\":\"strokeWidth\",\"thumb-size\":20,\"thumb-label\":\"\",\"min\":\"1\",\"max\":\"10\"},model:{value:(_vm.strokeWidth),callback:function ($$v) {_vm.strokeWidth=$$v},expression:\"strokeWidth\"}})],1),_c('v-col',{staticClass:\"pb-0\",attrs:{\"cols\":\"12\"}},[_c('v-slider',{attrs:{\"hide-details\":\"\",\"label\":\"xSpacing\",\"thumb-size\":20,\"thumb-label\":\"\"},model:{value:(_vm.xSpacing),callback:function ($$v) {_vm.xSpacing=$$v},expression:\"xSpacing\"}})],1),_c('v-col',{staticClass:\"pb-0\",attrs:{\"cols\":\"12\"}},[_c('v-slider',{attrs:{\"hide-details\":\"\",\"label\":\"ySpacing\",\"thumb-size\":20,\"thumb-label\":\"\"},model:{value:(_vm.ySpacing),callback:function ($$v) {_vm.ySpacing=$$v},expression:\"ySpacing\"}})],1)],2)],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"mindmap\",style:(_vm.mmStyle),attrs:{\"id\":\"mindmap\"}},[_c('svg',{ref:\"svg\",class:_vm.svgClass,attrs:{\"tabindex\":\"0\"}},[_c('g',{ref:\"content\",attrs:{\"id\":\"content\"}}),_c('rect',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showSelectedBox),expression:\"showSelectedBox\"}],ref:\"selectedBox\",attrs:{\"id\":\"selectedBox\",\"width\":_vm.seleBox.width,\"height\":_vm.seleBox.height,\"transform\":(\"translate(\" + (_vm.seleBox.x) + \",\" + (_vm.seleBox.y) + \")\")}})]),_c('div',{ref:\"dummy\",attrs:{\"id\":\"dummy\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showContextMenu),expression:\"showContextMenu\"}],ref:\"menu\",style:({ top: _vm.contextMenuY+'px', left: _vm.contextMenuX+'px' }),attrs:{\"id\":\"menu\",\"tabindex\":\"0\"},on:{\"blur\":function($event){_vm.showContextMenu = false}}},_vm._l((_vm.contextMenuItems),function(item,index){return _c('div',{key:index,class:(\"menu-item \" + (item.disabled ? 'disabled' : '')),on:{\"click\":function($event){item.disabled ? null : _vm.clickMenu(item.name)}}},[_c('div',[_vm._v(_vm._s(item.title))])])}),0),_c('div',{staticClass:\"buttonList right-bottom\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.gps),expression:\"gps\"}],ref:\"gps\",staticClass:\"icon\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.makeCenter()}}},[_c('i',{staticClass:\"gps\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.fitView),expression:\"fitView\"}],ref:\"fitView\",staticClass:\"icon\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.fitContent()}}},[_c('i',{staticClass:\"fitView\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.download),expression:\"download\"}],ref:\"download\",staticClass:\"icon\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showPopUps=true}}},[_c('i',{staticClass:\"download\"})])]),_c('div',{staticClass:\"buttonList top-right\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUndo),expression:\"showUndo\"}],ref:\"undo\",staticClass:\"icon\",class:{disabled: !_vm.canUndo},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.undo()}}},[_c('i',{staticClass:\"undo\"})]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUndo),expression:\"showUndo\"}],ref:\"redo\",staticClass:\"icon\",class:{disabled: !_vm.canRedo},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.redo()}}},[_c('i',{staticClass:\"redo\"})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPopUps),expression:\"showPopUps\"}],staticClass:\"pop-ups\"},[_c('div',{staticClass:\"layer\"}),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"exportTo\"},[_c('div',{staticClass:\"optionList\"},_vm._l((_vm.optionList),function(opt,index){return _c('div',{key:index,class:(\"option \" + (index===_vm.selectedOption ? 'select' : '') + \" \" + (opt.disabled ? 'disabled' : '')),on:{\"click\":function($event){opt.disabled ? '' : _vm.selectedOption=index}}},[_c('div',{class:(\"icon \" + (opt.color))},[_c('i',{class:opt.icon})]),_c('div',{staticClass:\"text\"},[_vm._v(_vm._s(opt.title))])])}),0),_c('div',{staticClass:\"optionTip\"},[_vm._v(_vm._s(_vm.optionTip))]),_c('div',{staticClass:\"action\"},[_c('div',{staticClass:\"spacer\"}),_c('button',{staticClass:\"cancel\",on:{\"click\":function($event){_vm.showPopUps=false}}},[_vm._v(\"取消\")]),_c('button',{on:{\"click\":function($event){_vm.exportTo(); _vm.showPopUps=false}}},[_vm._v(\"导出\")])])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","class History {\n  maxSnapshots: number\n  snapshots: Array<Mdata>\n  cursor: number\n  constructor(maxSnapshots = 20) {\n    this.maxSnapshots = maxSnapshots\n    this.snapshots = []\n    this.cursor = -1\n  }\n\n  get canUndo() { return this.cursor > 0 }\n  get canClear() { return this.snapshots.length >= 0 }\n  get canRedo() { return this.snapshots.length > this.cursor + 1 }\n\n  record(snapshot: Mdata) { // 记录数据快照\n    while (this.cursor < this.snapshots.length - 1) { // 去除旧分支\n      this.snapshots.pop()\n    }\n    this.snapshots.push(snapshot)\n    // 确保历史记录条数限制\n    if (this.snapshots.length > this.maxSnapshots) { this.snapshots.shift() }\n    this.cursor = this.snapshots.length - 1\n  }\n\n  undo() {\n    if (this.canUndo) {\n      this.cursor -= 1\n      return this.snapshots[this.cursor]\n    }\n    return null\n  }\n\n  redo() {\n    if (this.canRedo) {\n      this.cursor += 1\n      return this.snapshots[this.cursor]\n    }\n    return null\n  }\n\n  move(cursor: number) {\n    if (this.snapshots.length > cursor) {\n      this.cursor = cursor\n      return this.snapshots[this.cursor]\n    }\n  }\n\n  clear() {\n    this.cursor = -1\n    this.snapshots = []\n  }\n}\n\nexport default History\n","function deepTraverse(d: Array<Data>, m: string, md: string, flag: string) {\n  for (let index = 0; index < d?.length; index += 1) {\n    const dChild = d[index]\n    if (m.length > 3 && m[0] === '#') { // #### 替换成 -\n      md += `- ${dChild.name}\\n`\n      if (dChild.children) {\n        md = deepTraverse(dChild.children, '  -', md, '  ')\n      }\n    } else {\n      md += `${m} ${dChild.name}\\n`\n      if (dChild.children) {\n        md = deepTraverse(dChild.children, `${flag}${m}`, md, flag)\n      }\n    }\n  }\n  return md\n}\n\nfunction toMarkdown(data: Data) {\n  const d = Array.isArray(data) ? data : [data]\n  return deepTraverse(d, '#', '', '#')\n}\n\nexport default toMarkdown\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Watch, Prop, Model } from 'vue-property-decorator'\nimport * as d3 from '../ts/d3'\nimport { flextree } from 'd3-flextree'\nimport ImData from '../ts/ImData'\nimport History from '../ts/History'\nimport toMarkdown from '../ts/toMarkdown'\n\nlet mmdata: ImData // 思维导图数据\n@Component\nexport default class MindMap extends Vue {\n  @Prop() width: number | undefined\n  @Prop() height: number | undefined\n  @Prop({ default: 50 }) xSpacing!: number\n  @Prop({ default: 20 }) ySpacing!: number\n  @Prop({ default: true }) draggable!: boolean\n  @Prop({ default: true }) gps!: boolean\n  @Prop({ default: true }) fitView!: boolean\n  @Prop({ default: true }) download!: boolean\n  @Prop({ default: true }) keyboard!: boolean\n  @Prop({ default: true }) showNodeAdd!: boolean\n  @Prop({ default: true }) contextMenu!: boolean\n  @Prop({ default: true }) zoomable!: boolean\n  @Prop({ default: true }) showUndo!: boolean\n  @Prop({ default: 4 }) strokeWidth!: number\n  @Model('change', { required: true }) value!: Array<Data>\n\n  @Watch('keyboard')\n  onKeyboardChanged(val: boolean) { this.makeKeyboard(val) }\n  @Watch('showNodeAdd')\n  onShowNodeAddChanged(val: boolean) { this.makeNodeAdd(val) }\n  @Watch('draggable')\n  onDraggableChanged(val: boolean) { this.makeDrag(val) }\n  @Watch('contextMenu')\n  onContextMenuChanged(val: boolean) { this.makeContextMenu(val) }\n  @Watch('xSpacing')\n  onXSpacingChanged() {\n    mmdata.resize()\n    this.updateMmdata()\n    this.updateMindmap()\n  }\n  @Watch('ySpacing')\n  onYSpacingChanged() { this.updateMindmap() }\n  @Watch('zoomable')\n  onZoomableChanged(val: boolean) { this.makeZoom(val) }\n\n  $refs!: {\n    mindmap: HTMLDivElement\n    svg: Element\n    content: Element\n    dummy: HTMLDivElement\n    menu: HTMLDivElement\n    selectedBox: SVGRectElement\n  }\n\n  dragFlag = false\n  multiSeleFlag = false\n  minTextWidth = 16\n  minTextHeight = 21\n  gBtnSide = 24 // gBtn边长\n  foreignBorderWidth = 3\n  spaceKey = false\n  toRecord = true // 判断是否需要记录mmdata的数据快照\n  toUpdate = true // 判断是否需要更新mmdata\n  dTop!: FlexNode // mmdata中纵坐标最高的数据\n  root!: FlexNode // 包含位置信息的mmdata\n  showContextMenu = false\n  showPopUps = false\n  showSelectedBox = false // 选中框\n  contextMenuX = 0\n  contextMenuY = 0\n  mouse = { x0: 0, y0: 0, x1: 0, y1: 0 }\n  contextMenuTarget!: Mdata | Mdata[]\n  contextMenuItems = [\n    { title: '删除节点', name: 'delete', disabled: false },\n    { title: '折叠节点', name: 'collapse', disabled: false },\n    { title: '展开节点', name: 'expand', disabled: false },\n  ]\n  optionList = [\n    { title: 'JSON', icon: 'code-json', tip: '创建一个JSON格式的文本文件', color: 'purpleOpt' },\n    { title: '图像', icon: 'image', tip: '创建一个PNG格式的图像文件', color: 'greenOpt', disabled: true },\n    { title: 'Markdown', icon: 'markdown', tip: '创建一个Markdown格式的文本文件', color: 'grassOpt' },\n  ]\n  selectedOption = 0\n  mindmapSvg!: d3.Selection<Element, FlexNode, null, undefined>\n  mindmapG!: d3.Selection<Element, FlexNode, null, undefined>\n  dummy!: d3.Selection<HTMLDivElement, FlexNode, null, undefined>\n  mindmapSvgZoom!: d3.ZoomBehavior<Element, FlexNode>\n  easePolyInOut = d3.transition().duration(1000).ease(d3.easePolyInOut)\n  link = d3.linkHorizontal().x((d) => d[0]).y((d) => d[1])\n  zoom = d3.zoom() as d3.ZoomBehavior<Element, FlexNode>\n  history = new History()\n\n  get mmStyle() {\n    return {\n      width: this.width ? `${this.width}px` : '100%',\n      height: this.height ? `${this.height}px` : '',\n    }\n  }\n  get svgClass() { return `stroke-width-${this.strokeWidth} ${this.spaceKey && this.zoomable ? 'grab' : ''}` }\n  get optionTip() { return this.optionList[this.selectedOption].tip }\n  get canUndo() { return this.history.canUndo }\n  get canRedo() { return this.history.canRedo }\n  get seleBox() {\n    const { x0, x1, y0, y1 } = this.mouse\n    const x = Math.min(x0, x1)\n    const y = Math.min(y0, y1)\n    const width = Math.abs(x0 - x1)\n    const height = Math.abs(y0 - y1)\n    return { x, y, width, height, left: x, top: y, right: x + width, bottom: y + height }\n  }\n\n  getViewPos(p?: DOMRect) {\n    const svgPos = this.$refs.svg.getBoundingClientRect()\n    const { pageX, pageY } = d3.event\n    const viewLeft = svgPos.left + window.pageXOffset\n    const viewTop = svgPos.top + window.pageYOffset\n    const { left, top, right, bottom } = p || { left: pageX, top: pageY, right: pageX, bottom: pageY }\n    return {\n      left: left - viewLeft,\n      top: top - viewTop,\n      right: right - viewLeft,\n      bottom: bottom - viewTop,\n    }\n  }\n  updateMmdata(val?: Mdata | null) { // 不可变数据\n    if (val) { mmdata.data = JSON.parse(JSON.stringify(val)) }\n    if (this.toRecord) {\n      this.history.record(JSON.parse(JSON.stringify(mmdata.data)))\n    }\n    this.updateMindmap()\n    this.toUpdate = false\n    this.$emit('change', [mmdata.getSource()])\n  }\n  init() {\n    // 绑定元素\n    this.mindmapSvg = d3.select(this.$refs.svg)\n    this.mindmapG = d3.select(this.$refs.content)\n    this.mindmapG.style('opacity', 0)\n    this.dummy = d3.select(this.$refs.dummy)\n    // 绑定svg事件\n    this.makeKeyboard(this.keyboard)\n    this.mindmapSvg.on('contextmenu', () => { d3.event.preventDefault() })\n    this.mindmapSvgZoom = this.zoom.on('zoom', () => { this.mindmapG.attr('transform', d3.event.transform) })\n      .filter(() => (\n        (d3.event.ctrlKey && d3.event.type !== 'mousedown')\n        || (this.spaceKey && d3.event.type !== 'wheel')\n      ) && !d3.event.button) // 开启双指捏合 空格键+左键可拖移\n      .scaleExtent([0.1, 8]) // 缩放倍数: 0.1～8\n    this.makeZoom(this.zoomable)\n  }\n  initNodeEvent() { // 绑定节点事件\n    this.makeDrag(this.draggable)\n    this.makeNodeAdd(this.showNodeAdd)\n    this.makeContextMenu(this.contextMenu)\n  }\n  // 事件\n  makeKeyboard(val: boolean) {\n    val ? this.mindmapSvg.on('keydown', this.svgKeyDown).on('keyup', this.svgKeyUp)\n      : this.mindmapSvg.on('keydown', null).on('keyup', null)\n  }\n  makeNodeAdd(val: boolean) {\n    const fObject = this.mindmapG.selectAll('foreignObject') as d3.Selection<Element, FlexNode, Element, FlexNode>\n    const gBtn = this.mindmapG.selectAll('.gButton') as d3.Selection<Element, FlexNode, Element, FlexNode>\n    if (val) {\n      const { mouseLeave, mouseEnter, gBtnClick } = this\n      fObject.on('mouseenter', mouseEnter).on('mouseleave', mouseLeave)\n      gBtn.on('mouseenter', mouseEnter).on('mouseleave', mouseLeave).on('mousedown', gBtnClick)\n    } else {\n      fObject.on('mouseenter', null).on('mouseleave', null)\n      gBtn.on('mouseenter', null).on('mouseleave', null).on('mousedown', null)\n    }\n  }\n  makeContextMenu(val: boolean) {\n    const selection = this.mindmapG.selectAll('foreignObject') as d3.Selection<Element, FlexNode, Element, FlexNode>\n    if (val) {\n      selection.on('contextmenu', this.fObjectRightClick)\n    } else {\n      selection.on('contextmenu', null)\n    }\n  }\n  makeDrag(val: boolean) {\n    const { mindmapG, dragged, fObjMousedown, dragended } = this\n    const selection = mindmapG.selectAll('foreignObject') as d3.Selection<Element, FlexNode, Element, FlexNode>\n    const drag = d3.drag().container((d, i, n) => n[i].parentNode?.parentNode as d3.DragContainerElement) as d3.DragBehavior<Element, FlexNode, FlexNode>\n    if (val) {\n      selection.call(drag.on('start', fObjMousedown).on('drag', dragged).on('end', dragended))\n    } else {\n      selection.call(drag.on('start', null).on('drag', null).on('end', null))\n    }\n  }\n  makeZoom(val: boolean) {\n    const { mindmapSvg, mindmapSvgZoom, zoom } = this\n    if (val) {\n      mindmapSvg.call(mindmapSvgZoom).on('dblclick.zoom', null)\n        .on('wheel.zoom', () => {\n          const { ctrlKey, deltaY, deltaX, x, y } = d3.event\n          d3.event.preventDefault()\n          const current = d3.zoomTransform(this.$refs.svg)\n          if (ctrlKey) { // 缩放\n            const svgPos = this.$refs.svg.getBoundingClientRect()\n            const px = svgPos.left + window.pageXOffset\n            const py = svgPos.top + window.pageYOffset\n            const k = current.k - deltaY * 0.02\n            zoom.scaleTo(mindmapSvg, k, [x - px, y - py])\n          } else { // 移动\n            zoom.translateBy(mindmapSvg, -deltaX, -deltaY)\n          }\n        })\n    } else {\n      mindmapSvg.on('.zoom', null)\n    }\n  }\n  // button事件\n  undo() {\n    if (this.canUndo) {\n      this.toRecord = false\n      this.updateMmdata(this.history.undo())\n    }\n  }\n  redo() {\n    if (this.canRedo) {\n      this.toRecord = false\n      this.updateMmdata(this.history.redo())\n    }\n  }\n  downloadFile(content: string, filename: string) {\n    const eleLink = document.createElement('a')\n    eleLink.download = filename\n    eleLink.style.display = 'none'\n    // 字符内容转变成blob地址\n    const blob = new Blob([content])\n    eleLink.href = URL.createObjectURL(blob)\n    // 触发点击\n    document.body.appendChild(eleLink)\n    eleLink.click()\n    // 然后移除\n    document.body.removeChild(eleLink)\n  }\n  exportTo() { // 导出至\n    const data = mmdata.getSource()\n    let content = ''\n    let filename = data.name\n    switch (this.selectedOption) {\n      case 0: // JSON\n        content = JSON.stringify(data, null, 2)\n        filename += '.json'\n        break\n      case 2: // Markdown\n        content = toMarkdown(data)\n        filename += '.md'\n        break\n      default:\n        break\n    }\n    this.downloadFile(content, filename)\n  }\n  async makeCenter() { // 居中\n    await d3.transition().end().then(() => {\n      this.mindmapSvg.call(this.zoom.translateTo, 0, 0)\n    })\n  }\n  async fitContent() { // 适应窗口大小\n    await d3.transition().end().then(() => {\n      const rect = (this.$refs.content as SVGGElement).getBBox()\n      const div = this.$refs.mindmap\n      const multipleX = div.offsetWidth / rect.width\n      const multipleY = div.offsetHeight / rect.height\n      const multiple = Math.min(multipleX, multipleY)\n\n      this.mindmapSvg.transition(this.easePolyInOut as any).call(this.zoom.scaleTo, multiple)\n    })\n  }\n  // 数据操作\n  add(dParent: Mdata, d: Data) {\n    this.toRecord = true\n    const nd = mmdata.add(dParent.id, d)\n    this.updateMmdata()\n    return nd\n  }\n  insert(dPosition: Mdata, d: Data, i = 0) {\n    this.toRecord = true\n    const nd = mmdata.insert(dPosition.id, d, i)\n    this.updateMmdata()\n    return nd\n  }\n  move(del: Mdata, insert?: Mdata, i = 0) {\n    this.toRecord = true\n    mmdata.move(del.id, insert?.id, i)\n    this.updateMmdata()\n  }\n  reparent(p: Mdata, d: Mdata) {\n    this.toRecord = true\n    mmdata.reparent(p.id, d.id)\n    this.updateMmdata()\n  }\n  del(s: Mdata | Mdata[]) {\n    this.toRecord = true\n    if (Array.isArray(s)) {\n      const idArr = []\n      for (let i = 0; i < s.length; i++) {\n        idArr.push(s[i].id)\n      }\n      mmdata.del(idArr)\n    } else {\n      mmdata.del(s.id)\n    }\n    this.updateMmdata()\n  }\n  updateName(d: Mdata, name: string) {\n    if (d.name !== name) { // 有改变\n      this.toRecord = true\n      const nd = mmdata.rename(d.id, name)\n      this.updateMmdata()\n      return nd\n    }\n  }\n  collapse(s: Mdata | Mdata[]) {\n    this.toRecord = true\n    if (Array.isArray(s)) {\n      const idArr = []\n      for (let i = 0; i < s.length; i++) {\n        idArr.push(s[i].id)\n      }\n      mmdata.collapse(idArr)\n    } else {\n      mmdata.collapse(s.id)\n    }\n    this.updateMmdata()\n  }\n  expand(s: Mdata | Mdata[]) {\n    this.toRecord = true\n    if (Array.isArray(s)) {\n      const idArr = []\n      for (let i = 0; i < s.length; i++) {\n        idArr.push(s[i].id)\n      }\n      mmdata.expand(idArr)\n    } else {\n      mmdata.expand(s.id)\n    }\n    this.updateMmdata()\n  }\n  // 键盘\n  svgKeyDown() {\n    const event = d3.event\n    const keyName = event.key as string\n    // 针对导图的操作\n    if (keyName === ' ' && !this.spaceKey) { this.spaceKey = true }\n    if (event.metaKey) {\n      if (keyName === 'z') { // 撤销\n        d3.event.preventDefault()\n        this.undo()\n      } else if (keyName === 'y') { // 重做\n        d3.event.preventDefault()\n        this.redo()\n      }\n    } else { // 针对节点的操作\n      const sele = d3.select('#selectedNode') as d3.Selection<Element, FlexNode, Element, FlexNode>\n      const seleNode = sele.node()\n      if (seleNode) {\n        const seleData = sele.data()[0]\n        const seleDepth = seleData.depth\n        const im = seleData.data\n        const pNode = seleNode.parentNode as Element\n\n        switch (keyName) {\n          case 'Tab': {\n            d3.event.preventDefault()\n            const nd = this.add(im, { name: '' })\n            if (nd) {\n              this.editNew(nd, seleDepth + 1, pNode)\n            }\n            break\n          }\n          case 'Enter': {\n            d3.event.preventDefault()\n            if (pNode === this.$refs.content) { // 根节点enter时，等效tab\n              const nd = this.add(im, { name: '' })\n              if (nd) {\n                this.editNew(nd, seleDepth + 1, pNode)\n              }\n            } else {\n              const nd = this.insert(im, { name: '' }, 1)\n              if (nd) {\n                this.editNew(nd, seleDepth, pNode)\n              }\n            }\n            break\n          }\n          case 'Backspace': {\n            d3.event.preventDefault()\n            this.del(im)\n            break\n          }\n          default:\n            break\n        }\n      }\n    }\n  }\n  svgKeyUp() { // 针对导图的操作\n    if (d3.event.key === ' ') { this.spaceKey = false }\n  }\n  divKeyDown() {\n    if (d3.event.key === 'Enter') {\n      // d3.event.preventDefault()\n      // document.execCommand('insertHTML', false, '<br>')\n    }\n  }\n  // 节点操作\n  updateNodeName() { // 文本编辑完成时\n    const editP = document.querySelector('#editing > foreignObject > div') as HTMLDivElement\n    window.getSelection()?.removeAllRanges() // 清除选中\n    const editText = editP.innerText || ''\n    this.mindmapG.select('g#editing').each((d, i, n) => {\n      (n[i] as Element).removeAttribute('id')\n      const nd = this.updateName(d.data, editText)\n      if (nd) {\n        this.$emit('updateNodeName', mmdata.getSource(nd.id), nd.id)\n      }\n    })\n    editP.setAttribute('contenteditable', 'false')\n  }\n  removeSelectedId() { // 清除选中节点\n    const sele = document.getElementById('selectedNode')\n    if (sele) {\n      sele.setAttribute('__click__', '0')\n      sele.removeAttribute('id')\n    }\n  }\n  selectNode(n: Element) { // 选中节点\n    this.removeMultiSelected()\n    if (n.getAttribute('id') !== 'selectedNode') {\n      this.removeSelectedId()\n      n.setAttribute('id', 'selectedNode')\n    }\n  }\n  editNode(n: Element) { // 编辑节点\n    this.removeSelectedId()\n    n.setAttribute('id', 'editing')\n    const fObj = d3.select(n).selectAll('foreignObject').filter((a, b, c) => (c[b] as Element).parentNode === n) as d3.Selection<Element, FlexNode, Element, FlexNode>\n    this.focusNode(fObj)\n    fObj.select('div').attr('contenteditable', true)\n    const fdiv = document.querySelector('#editing > foreignObject > div')\n    if (fdiv) {\n      window.getSelection()?.selectAllChildren(fdiv)\n    }\n  }\n  focusNode(fObj: d3.Selection<Element, FlexNode, Element | null, FlexNode | undefined>) { // 使节点处于可视区域\n    const { k } = d3.zoomTransform(this.$refs.svg) // 放大缩小倍数\n    const fObjPos = (fObj.node() as Element).getBoundingClientRect()\n    if (fObjPos) {\n      const svgPos = this.$refs.svg.getBoundingClientRect()\n\n      const r = fObjPos.right - svgPos.right\n      const b = fObjPos.bottom - svgPos.bottom\n      const l = fObjPos.left - svgPos.left\n      const t = fObjPos.top - svgPos.top\n      const x = (r > 0 && r) || (l < 0 && l)\n      const y = (b > 0 && b) || (t < 0 && t)\n\n      // 保持节点可视\n      if (x) { this.mindmapSvg.call(this.zoom.translateBy, -x / k, 0) }\n      if (y) { this.mindmapSvg.call(this.zoom.translateBy, 0, -y / k) }\n    }\n  }\n  editNew(newD: Mdata, depth: number, pNode: Element) { // 聚焦新节点\n    d3.transition().end().then(() => {\n      const node = d3.select(pNode).selectAll(`g.node.depth_${depth}`)\n        .filter((b) => (b as FlexNode).data.id === newD.id)\n        .node()\n\n      this.editNode(node as Element)\n    }, (err) => {\n      console.log(err)\n    })\n  }\n  fdivMouseDown() {\n    const flag = d3.event.target.getAttribute('contenteditable')\n    if (flag === 'true') {\n      d3.event.stopPropagation() // 防止触发drag、click\n    }\n  }\n  fObjMousedown(d: FlexNode, i: number, n: ArrayLike<Element>) {\n    const edit = document.getElementById('editing')\n    let flag = 0\n    const clickedNode = n[i].parentNode as Element\n    if (edit && edit !== clickedNode) {\n      const f = (\n        d3.selectAll('foreignObject').filter((d, i, n) => (n[i] as Element).parentNode === edit).node() as Element\n      ).firstElementChild as HTMLElement\n\n      f.blur()\n      flag = 1\n    }\n    if (!edit || flag) { // 未在编辑\n      this.selectNode(clickedNode)\n    }\n  }\n  fObjectClick(d: FlexNode, i: number, n: ArrayLike<Element>) { // 两次单击进入编辑状态\n    const sele = document.getElementById('selectedNode')\n    const { dragFlag } = this\n    if (sele) {\n      if (sele.getAttribute('__click__') === '1'\n      && n[i].parentNode === sele\n      && document.activeElement !== n[i].firstElementChild\n      && !dragFlag) {\n        this.editNode(sele)\n        sele.setAttribute('__click__', '0')\n      } else {\n        sele.setAttribute('__click__', '1')\n        if (!dragFlag) {\n          this.$emit('click', mmdata.getSource(d.data.id), d.data.id)\n        }\n      }\n    }\n  }\n  fObjectRightClick(d: FlexNode, i: number, n: ArrayLike<Element>) {\n    const sele = document.getElementById('selectedNode')\n    const edit = document.getElementById('editing')\n    const clickedNode = n[i].parentNode as Element\n    const show = () => { // 显示右键菜单\n      const pos = this.getViewPos()\n      this.contextMenuX = pos.left\n      this.contextMenuY = pos.top\n      this.showContextMenu = true\n      this.clearSelection()\n      setTimeout(() => { this.$refs.menu.focus() }, 300)\n    }\n    if (clickedNode.classList.contains('multiSelectedNode')) {\n      const t: Mdata[] = []\n      ;(this.mindmapG.selectAll('g.multiSelectedNode') as d3.Selection<Element, FlexNode, Element, FlexNode>)\n        .each((d, i, n) => { t.push(d.data) })\n      const collapseFlag = t.filter((d) => d.children && d.children.length > 0).length > 0\n      const expandFlag = t.filter((d) => d._children && d._children.length > 0).length > 0\n      this.contextMenuItems[1].disabled = !collapseFlag\n      this.contextMenuItems[2].disabled = !expandFlag\n      this.contextMenuTarget = t\n      show()\n    } else if (clickedNode !== edit) { // 非正在编辑\n      if (clickedNode !== sele) { // 选中\n        this.selectNode(clickedNode)\n      }\n      const { data } = d\n      this.contextMenuItems[1].disabled = !(data.children && data.children.length > 0)\n      this.contextMenuItems[2].disabled = !(data._children && data._children.length > 0)\n      this.contextMenuTarget = data\n      show()\n    }\n  }\n  gBtnClick(a: FlexNode, i: number, n: ArrayLike<Element>) { // 添加子节点\n    if ((n[i] as SVGElement).style.opacity === '1') {\n      d3.event.stopPropagation()\n      const d: FlexNode = d3.select(n[i].parentNode as Element).data()[0] as FlexNode\n      const newD = this.add(d.data, { name: '' })\n      this.mouseLeave(d, i, n)\n      if (newD) {\n        this.editNew(newD, d.depth + 1, n[i].parentNode as Element)\n      }\n    }\n  }\n  clickMenu(key: string) {\n    this.showContextMenu = false\n    const { contextMenuTarget } = this\n    switch (key) {\n      case 'delete':\n        this.del(contextMenuTarget)\n        break\n      case 'collapse':\n        this.collapse(contextMenuTarget)\n        break\n      case 'expand':\n        this.expand(contextMenuTarget)\n        break\n      default:\n        break\n    }\n    (this.$refs.svg as HTMLElement).focus()\n    this.removeSelectedId()\n  }\n  // 悬浮事件\n  mouseLeave(d: FlexNode, i: number, n: ArrayLike<Element>) {\n    if ((n[i] as SVGElement).className.baseVal.includes('gButton')) {\n      d3.select(n[i]).style('opacity', 0)\n    } else {\n      d3.selectAll('g.gButton').filter((a, b, c) => (c[b] as Element).parentNode === n[i].parentNode).style('opacity', 0)\n    }\n  }\n  mouseEnter(d: FlexNode, i: number, n: ArrayLike<Element>) {\n    const flag = (d.data._children?.length || 0) > 0\n    if (!flag) {\n      if ((n[i] as SVGElement).className.baseVal.includes('gButton')) {\n        d3.select(n[i]).style('opacity', 1)\n      } else {\n        d3.selectAll('g.gButton').filter((a, b, c) => (c[b] as Element).parentNode === n[i].parentNode).style('opacity', 0.5)\n      }\n    }\n  }\n  // 拖拽\n  draggedNodeRenew(draggedNode: Element, px: number, py: number, dura = 0, d: FlexNode) {\n    const { path, renewOffset } = this\n    renewOffset(d, px, py)\n    const targetY = d.dy + py // x轴坐标\n    const targetX = d.dx + px // y轴坐标\n    const tran = d3.transition().duration(dura).ease(d3.easePoly)\n\n    d3.select(draggedNode).transition(tran as any).attr('transform', `translate(${targetY},${targetX})`)\n    // 更新draggedNode与父节点的path\n    d3.select(`path#path_${d.data.id}`).transition(tran as any).attr('d', (d) => path(d as FlexNode))\n  }\n  renewOffset(d: FlexNode, px: number, py: number) { // 更新偏移量\n    d.px = px\n    d.py = py\n    if (d.children) {\n      for (let index = 0; index < d.children.length; index += 1) {\n        const dChild = d.children[index]\n        this.renewOffset(dChild, px, py)\n      }\n    }\n  }\n  dragged(a: FlexNode, i: number, n: ArrayLike<Element>) { // 拖拽中【待完善】\n    this.dragFlag = true\n    if (a.depth !== 0) {\n      const { mindmapG, xSpacing, foreignX, foreignY } = this\n      const draggedNode = n[i].parentNode as Element\n      // 拖拽，相对a原本位置的偏移\n      this.draggedNodeRenew(draggedNode, d3.event.y - a.y, d3.event.x - a.x, undefined, a)\n      // 鼠标的坐标（相对于this.$refs.content）\n      const t = d3.mouse(this.$refs.content as SVGGElement)\n      const targetY = t[0] // x轴坐标\n      const targetX = t[1] // y轴坐标\n\n      // 计算others的坐标\n      ;(mindmapG.selectAll('g.node') as d3.Selection<Element, FlexNode, Element, FlexNode>)\n        .filter((d, i, n) => draggedNode !== n[i] && draggedNode.parentNode !== n[i])\n        .each((d, i, n) => {\n          const gNode = n[i]\n          const rect = { // 其他gRect的坐标，以及gRect的宽高\n            y: foreignX(d) + d.y, // foreignObject的x轴偏移\n            x: foreignY(d) + d.x, // foreignObject的y轴偏移\n            width: d.size[1] - xSpacing,\n            height: d.size[0],\n          }\n          // 重叠触发矩形边框\n          if ((targetY > rect.y) && (targetY < rect.y + rect.width)\n          && (targetX > rect.x) && (targetX < rect.x + rect.height)) {\n            gNode.setAttribute('id', 'newParentNode')\n          } else if (gNode.getAttribute('id') === 'newParentNode') {\n            gNode.removeAttribute('id')\n          }\n        })\n    }\n  }\n  dragback(d: FlexNode, draggedNode: Element) {\n    this.draggedNodeRenew(draggedNode, 0, 0, 1000, d)\n  }\n  dragended(d: FlexNode, i: number, n: ArrayLike<Element>) {\n    const { dragback, reparent, fObjectClick } = this\n    const draggedNode = n[i].parentNode as Element\n    const newParentNode = document.getElementById('newParentNode')\n    if (newParentNode) { // 建立新的父子关系\n      newParentNode.removeAttribute('id')\n      const newParentD = d3.select(newParentNode).data()[0] as FlexNode\n      reparent(newParentD.data, d.data)\n    } else {\n      const LR = (d.data.id.split('-').length === 2) && ((d.y > 0 && d.y + d.py < 0) || (d.y < 0 && d.y + d.py > 0)) // 左右节点变换\n      const flag = LR ? (a: FlexNode) => a.data.left !== d.data.left : (a: FlexNode) => a.data.left === d.data.left\n      const draggedParentNode = d3.select(draggedNode.parentNode as Element)\n      const draggedBrotherNodes = (draggedParentNode.selectAll(`g.depth_${d.depth}`) as d3.Selection<Element, FlexNode, Element, FlexNode>)\n        .filter((a, i, n) => draggedNode !== n[i] && flag(a))\n      if (!draggedBrotherNodes.nodes()[0]) { // 无兄弟节点时\n        if (LR) {\n          this.move(d.data)\n        } else {\n          dragback(d, draggedNode)\n          fObjectClick(d, i, n)\n        }\n      } else {\n        const a: { x0: number, x1: number, b1?: Mdata, n1?: Element, b0?: Mdata, n0?: Element } = { x0: Infinity, x1: -Infinity }\n        draggedBrotherNodes.each((b, i, n) => {\n          if (((b.x > d.x) || LR) && b.x > a.x1 && b.x < (d.x + d.px)) { // 找到新哥哥节点\n            a.x1 = b.x\n            a.b1 = b.data\n            a.n1 = n[i]\n          }\n          if (((b.x < d.x) || LR) && b.x < a.x0 && b.x > (d.x + d.px)) { // 找到新弟弟节点\n            a.x0 = b.x\n            a.b0 = b.data\n            a.n0 = n[i]\n          }\n        })\n        if (a.b0 || a.b1) { // 存在新兄弟节点时调换节点顺序\n          const sdata = d.data\n          if (a.b0 && a.n0) { // 插入在兄弟节点前面\n            this.move(sdata, a.b0)\n            draggedNode.parentNode?.insertBefore(draggedNode, a.n0)\n          } else if (a.b1 && a.n1) { // 插入在兄弟节点后面\n            this.move(sdata, a.b1, 1)\n            draggedNode.parentNode?.insertBefore(draggedNode, a.n1.nextSibling)\n          }\n        } else {\n          dragback(d, draggedNode)\n          fObjectClick(d, i, n)\n        }\n      }\n    }\n    this.dragFlag = false\n  }\n  // 多选\n  removeMultiSelected() {\n    (this.mindmapG.selectAll('g.multiSelectedNode') as d3.Selection<Element, FlexNode, Element, FlexNode>)\n      .each((d, i, n) => { n[i].classList.remove('multiSelectedNode') })\n  }\n  multiSelectStart() { // 开始多选\n    this.removeSelectedId()\n\n    if (d3.event.button === 0) { // 左键\n      this.removeMultiSelected()\n      this.multiSeleFlag = true\n      const { mouse, getViewPos } = this\n      const vp = getViewPos()\n      mouse.x0 = vp.left\n      mouse.y0 = vp.top\n    }\n  }\n  multiSelect() { // 多选中\n    if (this.multiSeleFlag) {\n      this.showSelectedBox = true\n      d3.event.preventDefault()\n      const { mouse, getViewPos } = this\n      const vp = getViewPos()\n      mouse.x1 = vp.left\n      mouse.y1 = vp.top\n\n      const { mindmapG, seleBox } = this\n      ;(mindmapG.selectAll('foreignObject') as d3.Selection<Element, FlexNode, Element, FlexNode>)\n        .each((d, i, n) => {\n          const f = n[i]\n          const g = (f.parentNode as Element)\n          const pos = getViewPos(f.getBoundingClientRect())\n          const flag = pos.left < seleBox.right && pos.bottom > seleBox.top && pos.right > seleBox.left && pos.top < seleBox.bottom\n          if (flag) {\n            g.classList.add('multiSelectedNode')\n          } else {\n            g.classList.remove('multiSelectedNode')\n          }\n        })\n    }\n  }\n  multiSelectEnd() { // 结束多选\n    this.multiSeleFlag = false\n    this.showSelectedBox = false\n    const { mouse } = this\n    mouse.x0 = mouse.x1 = mouse.y0 = mouse.y1 = 0\n  }\n  // 绘制\n  updateMindmap() {\n    this.tree()\n    this.getDTop()\n    this.draw()\n    this.initNodeEvent()\n  }\n  dKey(d: FlexNode) { return d.data.gKey }\n  gClass(d: FlexNode) { return `depth_${d.depth} node` }\n  gTransform(d: FlexNode) { return `translate(${d.dy},${d.dx})` }\n  foreignX(d: FlexNode) {\n    const { xSpacing, foreignBorderWidth } = this\n    return -foreignBorderWidth + (d.data.id !== '0' ? (d.data.left ? -d.size[1] + xSpacing : 0) : -(d.size[1] - xSpacing * 2) / 2)\n  }\n  foreignY(d: FlexNode) { return -this.foreignBorderWidth + (d.data.id !== '0' ? -d.size[0] : -d.size[0] / 2) }\n  gBtnTransform(d: FlexNode) {\n    const { xSpacing, gBtnSide } = this\n    let x = d.data.id === '0' ? (d.size[1] - xSpacing * 2) / 2 + 8 : d.size[1] - xSpacing + 8\n    if (d.data.left) {\n      x = -x - gBtnSide\n    }\n    return `translate(${x},${-gBtnSide / 2})`\n  }\n  gBtnVisible(d: FlexNode) { return ((d.data._children?.length || 0) <= 0) ? 'visible' : 'hidden' }\n  gEllTransform(d: FlexNode) {\n    const { xSpacing } = this\n    let x = d.data.id === '0' ? (d.size[1] - xSpacing * 2) / 2 + 6 : d.size[1] - xSpacing + 6\n    if (d.data.left) {\n      x = -x - 16\n    }\n    return `translate(${x},${0})`\n  }\n  gEllVisible(d: FlexNode) { return (d.data._children?.length || 0) > 0 ? 'visible' : 'hidden' }\n  pathId(d: FlexNode) { return `path_${d.data.id}` }\n  pathClass(d: FlexNode) { return `depth_${d.depth}` }\n  pathColor(d: FlexNode) { return d.data.color || 'white' }\n  path(d: FlexNode) {\n    const { xSpacing, link } = this\n    const temp = (d.parent && d.parent.data.id === '0') ? -d.dy : (d.data.left ? xSpacing : -xSpacing)\n    const sourceX = temp - d.py\n    const sourceY = 0 - d.dx - d.px\n    let textWidth = d.size[1] - xSpacing\n    if (d.data.left) {\n      textWidth = -textWidth\n    }\n\n    return `${link({ source: [sourceX, sourceY], target: [0, 0] })}L${textWidth},${0}`\n  }\n  nest(d: FlexNode, i: number, n: ArrayLike<Element>) {\n    const { dKey, appendNode, updateNode, exitNode } = this\n    const dd = d.children || [];\n    (d3.select(n[i]).selectAll(`g${dd[0] ? `.depth_${dd[0].depth}.node` : ''}`) as d3.Selection<Element, FlexNode, Element, FlexNode>)\n      .data(dd, dKey)\n      .join(appendNode, updateNode, exitNode)\n  }\n  appendNode(enter: d3.Selection<d3.EnterElement, FlexNode, Element, FlexNode>) {\n    const { expand, gEllTransform, gClass, gTransform, updateNodeName, divKeyDown, foreignY, gBtnTransform, pathId, pathClass, pathColor, path, nest, fdivMouseDown, foreignX, gBtnSide, gBtnVisible, gEllVisible } = this\n    const gNode = enter.append('g').attr('class', gClass).attr('transform', gTransform)\n\n    const foreign = gNode.append('foreignObject').attr('x', foreignX).attr('y', foreignY)\n    const foreignDiv = foreign.append('xhtml:div').attr('contenteditable', false).text((d: FlexNode) => d.data.name)\n    foreignDiv.on('blur', updateNodeName).on('keydown', divKeyDown).on('mousedown', fdivMouseDown)\n    foreignDiv.each((d, i, n) => {\n      const observer = new ResizeObserver((l) => {\n        const t = l[0].target\n        const b1 = getComputedStyle(t).borderTopWidth\n        const b2 = getComputedStyle(t.parentNode as Element).borderTopWidth\n        const spacing = (parseInt(b1, 10) + parseInt(b2, 10)) || 0\n        foreign.filter((d: FlexNode, index: number) => i === index)\n          .attr('width', l[0].contentRect.width + spacing * 2)// div和foreign border\n          .attr('height', l[0].contentRect.height + spacing * 2)\n      })\n      observer.observe(n[i] as Element)\n    })\n\n    const gBtn = gNode.append('g').attr('class', 'gButton').attr('transform', gBtnTransform).style('visibility', gBtnVisible)\n    gBtn.append('rect').attr('width', gBtnSide).attr('height', gBtnSide).attr('rx', 3).attr('ry', 3)\n    gBtn.append('path').attr('d', 'M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z')\n\n    const ell = gNode.append('g').attr('class', 'gEllipsis').attr('transform', gEllTransform).style('visibility', gEllVisible)\n      .classed('show', (d: FlexNode) => (d.data._children?.length || 0) > 0)\n      .on('click', (d: FlexNode) => expand(d.data))\n    ell.append('rect').attr('x', -2).attr('y', -6).attr('width', 20).attr('height', 14).style('opacity', 0)\n    ell.append('rect').attr('x', 0).attr('y', -2).attr('width', 16).attr('height', 4).attr('rx', 2).attr('ry', 2).attr('class', 'btn')\n      .attr('stroke', pathColor).attr('fill', pathColor)\n    ell.append('circle').attr('cx', 4).attr('cy', 0).attr('r', 1)\n    ell.append('circle').attr('cx', 8).attr('cy', 0).attr('r', 1)\n    ell.append('circle').attr('cx', 12).attr('cy', 0).attr('r', 1)\n\n    const enterData = enter.data()\n    if (enterData.length) {\n      if (enterData[0].data.id !== '0') {\n        gNode.append('path').attr('id', pathId).attr('class', pathClass).lower().attr('stroke', pathColor)\n          .attr('d', path)\n      }\n      gNode.each(nest)\n    }\n\n    gBtn.raise()\n    foreign.raise()\n    return gNode\n  }\n  updateNode(update: d3.Selection<Element, FlexNode, Element, FlexNode>) {\n    const { gEllTransform, gClass, gTransform, easePolyInOut, foreignY, gBtnTransform, pathId, pathClass, pathColor, path, nest, foreignX } = this\n    update.interrupt().selectAll('*').interrupt()\n    update.attr('class', gClass).transition(easePolyInOut as any).attr('transform', gTransform)\n\n    update.each((d, k, m) => {\n      const node = d3.select(m[k]) as d3.Selection<Element, FlexNode, null, undefined>\n      const foreign = node.selectAll('foreignObject').filter((d, i, n) => (n[i] as Element).parentNode === m[k])\n        .data([d]) // must rebind the children using selection.data to give them the new data.\n        .attr('x', foreignX)\n        .attr('y', foreignY)\n\n      foreign.select('div').text(d.data.name)\n      node.select('path').filter((d, i, n) => (n[i] as Element).parentNode === m[k]).attr('id', pathId(d))\n        .attr('class', pathClass(d))\n        .attr('stroke', pathColor(d))\n        .transition(easePolyInOut as any)\n        .attr('d', path(d))\n\n      node.each(nest)\n\n      const ellFlag = (d.data._children?.length || 0) > 0\n\n      node.selectAll('g.gButton').filter((d, i, n) => (n[i] as Element).parentNode === m[k]).data([d])\n        .attr('transform', gBtnTransform)\n        .style('visibility', !ellFlag ? 'visible' : 'hidden')\n        .raise()\n\n      const ell = node.selectAll('g.gEllipsis').filter((d, i, n) => (n[i] as Element).parentNode === m[k]).data([d])\n        .attr('transform', gEllTransform)\n        .classed('show', ellFlag)\n        .style('visibility', ellFlag ? 'visible' : 'hidden')\n      ell.select('rect.btn').attr('stroke', pathColor).attr('fill', pathColor)\n\n      foreign.raise()\n    })\n    return update\n  }\n  exitNode(exit: d3.Selection<Element, FlexNode, Element, FlexNode>) {\n    exit.filter((d, i, n) => n[i].classList[1] === 'node').remove()\n  }\n  draw() { // 生成svg\n    const { dKey, mindmapG, appendNode, updateNode, exitNode } = this\n    const d = [this.root]\n\n    ;(mindmapG.selectAll(`g${d[0] ? `.depth_${d[0].depth}.node` : ''}`) as d3.Selection<Element, FlexNode, Element, FlexNode>)\n      .data(d, dKey)\n      .join(appendNode, updateNode, exitNode)\n  }\n  tree() { // 数据处理\n    const { ySpacing } = this\n    const layout = flextree({ spacing: ySpacing })\n    const yGap = mmdata.data.size[1] / 2\n    // left\n    const tl = layout.hierarchy(mmdata.data, (d: Mdata) => d.id.split('-').length === 1 ? d.children?.filter(d => d.left) : d.children)\n    layout(tl)\n    tl.each((a: FlexNode) => { if (a.data.id !== '0') { a.y = -a.y + yGap } })\n    // right\n    const tr = layout.hierarchy(mmdata.data, (d: Mdata) => d.id.split('-').length === 1 ? d.children?.filter(d => !d.left) : d.children)\n    layout(tr)\n    tr.each((a: FlexNode) => { if (a.data.id !== '0') { a.y = a.y - yGap } }) // 往同个方向移动固定距离\n    // all\n    tr.children = tl.children\n      ? (tr.children ? tr.children.concat(tl.children) : tl.children)\n      : tr.children\n    tr.each((a: FlexNode) => { // x纵轴 y横轴 dx dy相对偏移\n      if (a.data.id !== '0') {\n        a.x += a.size[0] / 2\n      }\n      a.dx = a.x - (a.parent ? a.parent.x : 0)\n      a.dy = a.y - (a.parent ? a.parent.y : 0)\n      a.px = 0\n      a.py = 0\n    })\n    this.root = tr\n  }\n  getDTop() {\n    let t = this.root\n    while (t.children) { t = t.children[0] }\n    this.dTop = t\n  }\n  getSize(text: string, root = false) {\n    const { dummy, xSpacing, minTextWidth, minTextHeight } = this\n    let textWidth = 0\n    let textHeight = 0\n    dummy.selectAll('.dummyText').data([text]).enter().append('div').text((d) => d)\n      .each((d, i, n) => {\n        textWidth = n[i].offsetWidth\n        textHeight = n[i].offsetHeight\n        n[i].remove() // remove them just after displaying them\n      })\n    textWidth = Math.max(minTextWidth, textWidth)\n    textHeight = Math.max(minTextHeight, textHeight)\n    return [textHeight, textWidth + (root ? xSpacing * 2 : xSpacing)]\n  }\n  clearSelection() { // 清除右键触发的选中单词\n    if (window.getSelection) {\n      const sel = window.getSelection()\n      sel?.removeAllRanges()\n    }\n  }\n  addWatch() {\n    this.$watch('value', (newVal) => {\n      if (this.toUpdate) {\n        mmdata = new ImData(newVal[0], this.getSize)\n        this.updateMmdata()\n      } else {\n        this.toUpdate = true\n      }\n    }, { immediate: true, deep: true })\n  }\n  async mounted() {\n    this.init()\n    this.mindmapSvg.on('mousedown', this.multiSelectStart)\n    this.mindmapSvg.on('mousemove', this.multiSelect)\n    this.mindmapSvg.on('mouseup', this.multiSelectEnd)\n    this.addWatch()\n    await this.makeCenter()\n    await this.fitContent()\n    this.mindmapG.style('opacity', 1)\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindMap.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MindMap.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MindMap.vue?vue&type=template&id=0fe89bf5&\"\nimport script from \"./MindMap.vue?vue&type=script&lang=ts&\"\nexport * from \"./MindMap.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./MindMap.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component } from 'vue-property-decorator'\nimport dataLearn from '../public/learn.json'\nimport mindmap from './components/MindMap.vue'\n\n@Component({ components: { mindmap } })\nexport default class App extends Vue {\n  showSource = false\n  onboarding = 0\n  length = 3\n  mmdata = dataLearn\n  items = [\n    { title: 'template' },\n    { title: 'script' },\n  ]\n  options = {\n    gps: { value: true },\n    fitView: { value: true },\n    keyboard: { value: true },\n    draggable: { value: true },\n    showNodeAdd: { value: true },\n    contextMenu: { value: true },\n    zoomable: { value: true },\n    showUndo: { value: true },\n    download: { value: true },\n  }\n  xSpacing = 50\n  ySpacing = 20\n  strokeWidth = 4\n\n  updateNodeName(...args: any) {\n    console.log('updateNodeName', ...args)\n  }\n  click(...args: any) {\n    console.log('click', ...args)\n  }\n  mounted() {}\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=6b223376&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSlider } from 'vuetify/lib/components/VSlider';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VApp,VBtn,VCard,VCol,VContainer,VDivider,VIcon,VMain,VRow,VSheet,VSlider,VSwitch})\n","import '@mdi/font/css/materialdesignicons.css'\nimport Vue from 'vue'\nimport Vuetify from 'vuetify/lib'\n\nVue.use(Vuetify)\n\nexport default new Vuetify({\n  icons: {\n    iconfont: 'mdi',\n  },\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport vuetify from './plugins/vuetify'\n\nVue.config.productionTip = false\n\nnew Vue({\n  vuetify,\n  render: h => h(App),\n}).$mount('#app')\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAGdJREFUSMdjYBgFBAAjker+k6ufidY+GLVg8FpQzgBJOTCMCyCrqSfVcnRL8GGSDSfFErINJ8YSig3HZwnVDMdmCdGGM5NgwVEGSNlzkIGBoZHarh+8AFdx+58kU/CYR/OiYhQMPAAAjmEtvC5aR3YAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDMtMDlUMTI6MjQ6MzMrMDA6MDBhAr59AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAzLTA5VDEyOjI0OjMzKzAwOjAwEF8GwQAAACh0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vdG1wL21hZ2ljay16aWlQenltMcMsFE8AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAASAAAAEgARslrPgAAAWxJREFUSMfNlU1OwlAUhb8y1cIGdORAcKKwATGxYaKrcWKCuBYjIwvGsQMnGBLdgbADMYiwARz0Nh6hvLYaEm5y0/b+nPN6+u4rbJjNzTNbYd0rSiPwgAbQBoYSHwK3lvP+Sn4A9EWWVd4HKnnBT4CpAbwDTeAI2DKvAleWmwNfQD3PymPwEPAdtT7QEZJyGrgnsoQZ9fWE5DmtpyGy6Mp3gS4wM38A9iVfBEbWG7gI2lbUXAAfs/xxPy0XW8viNy6CoRUdSqzL6h0USl3VYoMk4MVGlWfmIJhKnZ+Q//ck67GR+HELkvT4mdY9qXlyEDzKfdwzELylN3i165nELoFJAvgYuJDnc7u+uF7ZtU1DIs2nwB2wI/kS8GG9py4CHbQO2Qft3np6WXoqRGMfkxQdtSUBn/B7+JxWF5IR0RDVgG3zGnAtskyA46zgsZWJzpa047qXZ+VJ+gZE4z8Q0DeLBVk0z2Ob909eu30D0eKD2ON1XwcAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDItMjFUMDc6MTg6MDYrMDA6MDDOhs0DAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAyLTIxVDA3OjE4OjA2KzAwOjAwv9t1vwAAACh0RVh0c3ZnOmJhc2UtdXJpAGZpbGU6Ly8vdG1wL21hZ2ljay1SM05jR3BZZD+JYfIAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAA7EAAAOxAGVKw4bAAABv0lEQVRYw+2Xvy5EQRTGf2eJRkOJVifR+BPJimp5ApXV8goaxZY8BxvvgEpWsgWNxCOgVClWyKcwK3Pvnbt2x90Ncr/kJjNnZs73zTn33pkDJUr8DJY3IGkLWATGnOnazFoxJJLWgarrvgN3ZnY+iINTZdGI3bWkRsDfaWhuJScy9VjyAVCXtJk2jgcmLnnta6Cbpqh0eWuPXdtP3zJw0XNlKryNosPynf9KhM+hohT0LwRNjJA/wxUStDxCQRmuhCBJdcD/WT0MQcSj1950nF8wSQfAJLCWEvMMLJjZU5FqJM0A98C0Z74A2sALgTOmI6klaWUI0emKWnUcnTR53ldm9LgJFISgf5N0xOcVYxHY8sZGmbJz4I7Pq0licj0Vwb2iwyJpP8WReKkTKTOzJsnTd65oQcCsHxnHGRbkcJOzs4qkXfdYrD2F27QhdB96zVm8A5x0+YBmpL0n1687y8YHmNt0OxVw9gN7MYLMLBj2Qe3f4U+krOO1q+6sg+Lqsqo31Oln8YbCaMTuOqcuU6gMyqTMzK6AQ+AtVkCfaJpZpgTqVUrPA9vAlDNdmtllZIRqQM11X4B2SEyJEkXgAzPcc0xJNGzyAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTA2LTI3VDA4OjAxOjExKzAwOjAwZ5m2KgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wNi0yN1QwODowMToxMSswMDowMBbEDpYAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC\""],"sourceRoot":""}